{
  "magic": "E!vIA5L86J2I",
  "timestamp": "2025-03-18T01:23:16.532263+00:00",
  "repo": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
  "labels": [
    {
      "name": "bug",
      "description": "Something isn't working",
      "color": "d73a4a"
    },
    {
      "name": "documentation",
      "description": "Improvements or additions to documentation",
      "color": "0075ca"
    },
    {
      "name": "duplicate",
      "description": "This issue or pull request already exists",
      "color": "cfd3d7"
    },
    {
      "name": "enhancement",
      "description": "New feature or request",
      "color": "a2eeef"
    },
    {
      "name": "good first issue",
      "description": "Good for newcomers",
      "color": "7057ff"
    },
    {
      "name": "help wanted",
      "description": "Extra attention is needed",
      "color": "008672"
    },
    {
      "name": "invalid",
      "description": "This doesn't seem right",
      "color": "e4e669"
    },
    {
      "name": "question",
      "description": "Further information is requested",
      "color": "d876e3"
    },
    {
      "name": "wontfix",
      "description": "This will not be worked on",
      "color": "ffffff"
    }
  ],
  "issues": [
    {
      "number": 2,
      "id": "I_kwDOMMuuSM6PQl5e",
      "title": "Allow hpke-info",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/issues/2",
      "state": "CLOSED",
      "author": "OR13",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "From: https://mailarchive.ietf.org/arch/msg/jose/ipj36h_QVgijtAGPlKtX8yXK71Y/\r\n\r\nProposed text:\r\n\r\n> For HPKE JWE Integrated Encryption and Key Encryption hpke-info SHOULD be empty, however, if both sender and recipient agree, hpke-info can be set to any value that is consistent with section ___ of RFC9180.\r\n\r\n",
      "createdAt": "2024-07-11T15:31:21Z",
      "updatedAt": "2025-01-31T10:50:38Z",
      "closedAt": "2025-01-31T10:50:38Z",
      "comments": []
    },
    {
      "number": 3,
      "id": "I_kwDOMMuuSM6Plmyj",
      "title": "HPKE AAD for JWE Key Encryption",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/issues/3",
      "state": "OPEN",
      "author": "OR13",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "\r\n\r\n```\r\nhpke-aad SHALL be the FixedInfo part of ECDH-ES Concat KDF input. That is,\r\nconcatenation of AlgorithmID, PartyUInfo, PartyVInfo, SuppPubInfo and\r\nSuppPrivInfo inputs, in that order, as defined in section 4.6.2 of JWA.\r\n```\r\n\r\nhttps://mailarchive.ietf.org/arch/msg/jose/kGF-m5XJunr-M26USFyFeqYoSvw/",
      "createdAt": "2024-07-15T15:17:34Z",
      "updatedAt": "2025-02-14T16:25:30Z",
      "closedAt": null,
      "comments": [
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Related, from the editor's copy:\r\n\r\n> Additionally, the same key MUST NOT be used for both key wrapping and content encryption, as it may introduce security risks.\r\n\r\nThis is problematic on several levels:\r\n- If this practice introduces possible security risks, then JOSE-HPKE is flawed (cryptographic protocols are expected to not rely on operational practices where feasible).\r\n- There are no JWK-level controls for this purpose. Integrated Encryption and Key Encryption use the same \"alg\" values on purpose. And JWK key_ops turns out to be totally busted.\r\n- Forbidding this practice can be expected to cause significant operational issues.\r\n\r\nThis issue is related, because HPKE AAD for Key Encryption is significant for preventing any issues with mixing key wrapping and content encryption.\r\n\r\nAnd some notes about fields used:\r\n- AlgorithmID is not well-defined for Key Encryption. HPKE already binds its ciphersuite, so \"alg\" is redundant. However, using \"enc\" here would protect against bad implementations that allow unsafe bulk ciphers.\r\n- SuppPubInfo contains key length, which is meaningless for HPKE.\r\n- SuppPrivInfo is always empty.\r\n\r\nUsing len32(enc) || enc || len32(PartyUInfo) || PartyUInfo || len32(PartyVInfo) || PartyVInfo as aad for Key Encryption would guarantee safety of mixing key wrapping and content encryption (as nobody is going to use 1.5GB+ enc values).",
          "createdAt": "2024-12-06T19:44:41Z",
          "updatedAt": "2024-12-06T19:44:41Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "body": "@OR13 and I talked about this on a call today.  `apu` and `apv` are defined for ECDH but not for other encryption algorithms and so aren't relevant to this specification.  We don't need to say anything about them.",
          "createdAt": "2025-02-14T16:13:49Z",
          "updatedAt": "2025-02-14T16:13:49Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "I suggest we add some simple text of the form:\n\n\"apu\" and \"apv\" are mandatory to process when using ECDH algorithms, therefore, when processing HPKE algorithms, these parameters can be ignored.",
          "createdAt": "2025-02-14T16:25:29Z",
          "updatedAt": "2025-02-14T16:25:29Z"
        }
      ]
    },
    {
      "number": 4,
      "id": "I_kwDOMMuuSM6Pln9O",
      "title": "HPKE Integrated Encryption \"enc: dir\"",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/issues/4",
      "state": "CLOSED",
      "author": "OR13",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "```\r\n> This document defines a new value \"dir\" for \"enc\".\r\n\r\nThis definition needs to be independent of HPKE. The HPKE cipher suites\r\nare then layered on top of this mechanism.\r\n\r\nAnd presumably should include the encryption/decryption procedures\r\nlike sections 5.1. and 5.2. of JWE.\r\n\r\nAs sanity check, the first operations in decryption process should be\r\nthe same as defined in section 5.2 of JWE (I think steps 1 through 5).\r\n```\r\n\r\nhttps://mailarchive.ietf.org/arch/msg/jose/kGF-m5XJunr-M26USFyFeqYoSvw/",
      "createdAt": "2024-07-15T15:19:42Z",
      "updatedAt": "2024-12-05T18:38:20Z",
      "closedAt": "2024-12-05T18:38:19Z",
      "comments": [
        {
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "body": "Fixed by #7 ",
          "createdAt": "2024-12-05T18:38:19Z",
          "updatedAt": "2024-12-05T18:38:19Z"
        }
      ]
    },
    {
      "number": 8,
      "id": "I_kwDOMMuuSM6bsn5w",
      "title": "Algorithm identifiers like HPKE-P256-SHA256-A128GCM are overly verbose",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/issues/8",
      "state": "CLOSED",
      "author": "selfissued",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "The \"alg\" values should be short identifiers that fully-specify the computation to be performed. They should not contain syntax that is parsed, such as a required \"HPKE\" string prefix.\r\n\r\nLet's decide on reasonable short identifiers for each of the algorithms - ideally 8 characters each or less.",
      "createdAt": "2024-10-24T17:21:19Z",
      "updatedAt": "2024-12-18T19:48:58Z",
      "closedAt": "2024-12-18T19:48:58Z",
      "comments": [
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "Hpke Jose Cipher Suite 0 - HPKE-P256-SHA256-A128GCM -> HJCS-0 ?",
          "createdAt": "2024-10-24T17:26:09Z",
          "updatedAt": "2024-10-24T17:26:09Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "`ECDH-ES+A128KW` has obvious structure.\r\n\r\nhttps://www.iana.org/assignments/hpke/hpke.xhtml has the source of truth for the values.\r\n\r\nThere is also the problem of \"why register all these in JOSE / COSE, who actually wants to use them\"",
          "createdAt": "2024-10-24T17:28:29Z",
          "updatedAt": "2024-10-24T17:31:10Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "body": "In order to have meaningful short algorithm names, I propose that we use `alg` names of the form \"HPKEk-a\", where \"k\" is the hexadecimal representation of the HPKE KEM number and \"a\" is the hexadecimal representation of the HPKE AEAD number, both as registered at https://www.iana.org/assignments/hpke/hpke.xhtml.  In particular, I'm proposing these renamings:\r\n\r\n- `HPKE-P256-SHA256-A128GCM` -> `HPKE10-1`\r\n- `HPKE-P384-SHA384-A256GCM` -> `HPKE11-2`\r\n- `HPKE-P521-SHA512-A256GCM` -> `HPKE12-2`\r\n- `HPKE-X25519-SHA256-A128GCM` -> `HPKE20-1`\r\n- `HPKE-X25519-SHA256-ChaCha20Poly1305` -> `HPKE20-3`\r\n- `HPKE-X448-SHA512-A256GCM` -> `HPKE21-2`\r\n- `HPKE-X448-SHA512-ChaCha20Poly1305` -> `HPKE21-2`\r\n\r\nI will create a PR unless people make a counterproposal.",
          "createdAt": "2024-12-05T19:03:56Z",
          "updatedAt": "2024-12-05T19:09:02Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "If we are going to go for shorter names, I think we can skip straight to `HPKE-[0-N]`\r\n\r\nSo that would yield:\r\n\r\n```\r\nHPKE-P256-SHA256-A128GCM -> HPKE-0\r\nHPKE-P384-SHA384-A256GCM -> HPKE-1\r\nHPKE-P521-SHA512-A256GCM -> HPKE-2\r\nHPKE-X25519-SHA256-A128GCM -> HPKE-3\r\nHPKE-X25519-SHA256-ChaCha20Poly1305 -> HPKE-4\r\nHPKE-X448-SHA512-A256GCM -> HPKE-5\r\nHPKE-X448-SHA512-ChaCha20Poly1305 -> HPKE-6\r\n```\r\n\r\n",
          "createdAt": "2024-12-05T19:58:50Z",
          "updatedAt": "2024-12-05T19:59:48Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "body": "The two numbers are aligned to the numbers in the registries at https://www.iana.org/assignments/hpke/hpke.xhtml.  Then were not making anything up.\r\n\r\nI could live with either approach.  What do others think?",
          "createdAt": "2024-12-05T20:06:14Z",
          "updatedAt": "2024-12-05T20:06:14Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "ahh, maybe just `hpke-<kem>-<kdf>-<aead>` but using numbers instead of string labels:\r\n\r\n```\r\nHPKE-P256-SHA256-A128GCM -> HPKE-10-01-01 / HPKE-100101\r\n```",
          "createdAt": "2024-12-05T20:17:41Z",
          "updatedAt": "2024-12-05T20:18:54Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "Still seems like it might be better to just go with `hpke-0` though... shorter, and the registration can handle the mapping",
          "createdAt": "2024-12-05T20:19:37Z",
          "updatedAt": "2024-12-05T20:19:37Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "body": "I could support hpke-kem-kdf-aead naming like `HPKE-10-1-1` (leaving off the leading zeros).  I'd rather go with names rooted in the existing HPKE registry than names we're completely making up.",
          "createdAt": "2024-12-05T20:22:23Z",
          "updatedAt": "2024-12-05T20:22:23Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "One subtle consideration is that any sort of systematic pattern can be interpreted as adding all the algorithms (since it is obvious what the algorithm name would be). Advantage of being systematic would be eliminating the possibility that an algorithm gets added in subtly incompatible way (which could cause major interoperability headaches).\r\n\r\nThen these algorithms could presumably get used with kty=AKP. There is an obvious interpretation for \"priv\" and \"pub\" in this case (raw HPKE private and public keys).\r\n\r\nHowever, it depends on KEM if it is possible to derive \"pub\" from \"priv\" (and including both causes possible security issue), or not (both are needed). I think KEM 0x30 (which is essentially deprecated) is currently the only one where it is not possible to derive public key from private key.",
          "createdAt": "2024-12-06T20:08:15Z",
          "updatedAt": "2024-12-06T20:08:15Z"
        },
        {
          "author": "ounsworth",
          "authorAssociation": "NONE",
          "body": "My vote (that doesn't count because I'm a tourist in JOSE):\r\n\r\nFully specified is useful so that devs don't need to fish around in the guts of RFCs to figure out what actually makes up a given cipher suite.\r\n\r\nShort-forms over the wire are also fine. I have a slight preference for `HPKE-0` rather than `HPKE10-1` because A) if you have to look it up, then you have to look it up, and B) this scheme may not extend well to hybrid KEMs.",
          "createdAt": "2024-12-11T00:11:48Z",
          "updatedAt": "2024-12-11T00:11:48Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "body": "It also occurred to me that names of the form HPKE-n will probably better correspond to COSE algorithm identifiers, where they will be a single integer anyway.  So unless people voice objections here shortly, I'll plan to create a PR to accomplish that.  Getting to stable algorithm identifiers is a big step towards enabling deployments (something being contemplated at https://github.com/openid/oid4vc-haip/issues/131).",
          "createdAt": "2024-12-11T02:15:27Z",
          "updatedAt": "2024-12-11T02:15:27Z"
        },
        {
          "author": "lee-preimesberger",
          "authorAssociation": "NONE",
          "body": "late to the party, but i really prefer this approach with the short(est) codes.  the verbose tags takes too much space - and like mentioned above if we need to refer back to the RFC anyway smaller is better.",
          "createdAt": "2024-12-12T14:24:12Z",
          "updatedAt": "2024-12-12T14:24:12Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "Its also easier to read, write and compare \"HPKE-0\" in contrast to \"HPKE-P256-SHA265-A128GCM\" (review this carefully for a case in point).\r\n",
          "createdAt": "2024-12-12T16:12:32Z",
          "updatedAt": "2024-12-12T16:12:32Z"
        }
      ]
    },
    {
      "number": 13,
      "id": "I_kwDOMMuuSM6jIgme",
      "title": "Support for detached JWE AAD",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/issues/13",
      "state": "OPEN",
      "author": "awoie",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "For various reasons, it makes sense to introduce a mechanism to support **\"detached\" JWE AAD** where the Additional Authenticated Data (AAD) for a JWE is not transmitted in-band but is instead derived by the sender and receiver from contextual information out-of-band. This approach can enhance **security**, **efficiency**, and **flexibility**.\r\n\r\n### Use Case: Mitigating the \"Lazy Verifier\" Problem\r\nOne specific use case arises from **OID4VC**, where detached JWE AAD could help mitigate the so-called \"lazy verifier\" problem. \r\n\r\nIn this scenario:\r\n- A verifier website sends a request to a wallet (typically a native mobile app).\r\n- The wallet responds with an encrypted message, including contextual information (e.g., the request's origin) as part of the AAD in the JWE response.\r\n\r\nThis contextual information is authenticated via AEAD but may not be validated by a \"lazy verifier,\" which skips verifying these fields against their expected values based on the established context. This lack of validation makes the system prone to phishing attacks. For example, the wallet might encode the origin where it received the verifier's request in the AAD, e.g., attacker.com. However, if the verifier does not verify this information, an attacker could exploit the oversight.\r\n\r\nBy requiring the verifier to derive the JWE AAD from contextual information rather than transmitting it in-band:\r\n- The AAD becomes more tightly bound to the verifier's session and context.\r\n- It eliminates the need for explicit validation of the AAD, as the verifier computes it directly from its established session context.\r\n- This reduces the attack surface, making phishing attacks harder to execute.\r\n\r\n### Need for a Generalized Solution\r\nSince **\"detached\" JWE AAD** is not currently defined in the JWE specification and applies to other encryption algorithms (e.g., ECDH-ES), a more general solution could be developed. This would be especially relevant for OID4VC, which uses JARM (JWT Secured Authorization Response Mode, using the JWE compact form) to send encrypted responses. Ensuring compatibility with the JWE compact form would be critical.\r\n\r\n### Proposed Solution\r\n#### JWE JSON Serialization (already supports dedicated `aad` parameter)\r\nFor JWE JSON serialization, the existing `aad` parameter could indicate that the AAD is detached by setting its value to `null`. \r\n\r\n#### JWE Compact Serialization (no dedicated `aad` parameter yet)\r\nFor JWE compact serialization, the format could be extended to optionally include the AAD as an additional segment:\r\n- **Extended Format**: `<Protected Header>.<Encrypted Key>.<Initialization Vector>.<Ciphertext>.<Authentication Tag>.<AAD>`\r\n- **Behavior**:\r\n  - If the `AAD` segment is empty or omitted (e.g., `<Protected Header>.<Encrypted Key>.<Initialization Vector>.<Ciphertext>.<Authentication Tag>.`), it signals that the AAD is detached and must be computed or derived from contextual information by the sender and receiver.\r\n  - The computation of AAD for the AEAD algorithm would follow the same logic as for the JWE JSON form.\r\n\r\nExamples:\r\n- **JWE Compact Form without AAD** (Standard): `<Protected Header>.<Encrypted Key>.<Initialization Vector>.<Ciphertext>.<Authentication Tag>`\r\n- **JWE Compact Form with AAD**: `<Protected Header>.<Encrypted Key>.<Initialization Vector>.<Ciphertext>.<Authentication Tag>.<AAD>`\r\n- **JWE Compact Form with Detached AAD**: `<Protected Header>.<Encrypted Key>.<Initialization Vector>.<Ciphertext>.<Authentication Tag>.`\r\n\r\n### Relevance to OID4VC\r\nThis approach could address challenges in **OID4VC**, particularly in ensuring robust validation of contextual information by the verifier without relying on error-prone implementations. \r\n\r\nFor example:\r\n- Issue [openid/oid4vc-haip#131](https://github.com/openid/oid4vc-haip/issues/131)\r\n- Issue [openid/OpenID4VP#347](https://github.com/openid/OpenID4VP/issues/347)\r\n- Issue [openid/OpenID4VP#65](https://github.com/openid/OpenID4VP/issues/65)",
      "createdAt": "2024-12-12T21:30:43Z",
      "updatedAt": "2025-03-10T09:12:01Z",
      "closedAt": null,
      "comments": [
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "This seems out of scope for draft-ietf-jose-hpke-encrypt, I think this would need an extension to JWE.\r\n\r\nThis extension would define how to include application-supplied implicit AAD into \"Additional Authenticated Data encryption parameter\". I think it is a bad idea to alter message formats for this, I think the application should be in full control of use or non-use of this feature.\r\n\r\nWhere this would tie to draft-ietf-jose-hpke-encrypt is that JOSE-HPKE Integrated Encryption should use the updated parameter construction rules if the application specifies implicit AAD to use.\r\n\r\n",
          "createdAt": "2025-01-02T14:47:06Z",
          "updatedAt": "2025-01-02T14:47:06Z"
        },
        {
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "body": "I created the first cut of the draft, https://github.com/tireddy2/jwe-detached-aad. @awoie @ilaril - please review and feel free to update it.",
          "createdAt": "2025-01-15T14:48:20Z",
          "updatedAt": "2025-01-15T14:48:20Z"
        },
        {
          "author": "bc-pi",
          "authorAssociation": "NONE",
          "body": "I am of the ever humble opinion that, for a number of reasons, detached AAD and/or updates to JWE is not the right avenue to pursue for this. Rather, something that would allow for an out-of-band contribution to the KDF, maybe/likely just in the HPKE algs that are the scope of this repo, seems to me a much more tenable avenue.\n\n[edit: that's under the presumption that the so called \"Lazy Verifier\" problem is one to be addressed at all or with JWE constructs, which I am not convinced of myself but know other valid opinions exist.] ",
          "createdAt": "2025-01-17T16:58:09Z",
          "updatedAt": "2025-02-12T23:01:40Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "The request is seemingly for mechanism that allows authenticating the implicit context of message. That is message-level concept, not recipient-level concept, and thus should work with all recipient algorithms. Experience is that mechanisms that sometimes work cause major problems.\n\nImplementing authentication of implicit message context in a way that works with all algorithms means altering the way Additional Authenticated Data encryption parameter is constructed. Which needs updating JWE.\n\nI think the question is if this mechanism is worth it, not how it should be implemented (modulo precise technical details).\n\nAnd modulo apu/apv handling being totally broken, the current HPKE in JOSE draft does allow out-of-band contributions to KDF (and #14 would have fixed the interaction with apu/apv). I think that the inherent operational limitations on that make it not really useful.\n\nContrasting to COSE and COSE-HPKE: Layer 0 external_aad is useful for performing implicit context authentication.\n",
          "createdAt": "2025-01-17T18:56:30Z",
          "updatedAt": "2025-01-17T18:56:30Z"
        },
        {
          "author": "awoie",
          "authorAssociation": "NONE",
          "body": "> I am of the ever humble opinion that, for a number of reasons, detached AAD and/or updates to JWE is not the right avenue to pursue for this. Rather, something that would allow for an out-of-band contribution to the KDF, maybe/likely just in the HPKE algs that are the scope of this repo, seems to me a much more tenable avenue.\n\nI believe this would be a good approach. It would be great if we could think about how this can be done without changing JWE. \n\nDo you have a suggestion @bc-pi?",
          "createdAt": "2025-01-18T10:44:28Z",
          "updatedAt": "2025-01-18T10:44:28Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "Why is the presence of PSK not sufficient for this use case?\n\nWith HPKE, you can use a psk or an extra hpke info parameter.\n\npsk signals that there is extra data that is needed, and the info parameter does not signal this, but still requires it.\n\nso there are already 2 viable solutions to this use case, and adding another one is a mistake.\n\nAlso, perhaps we can move discussion of this to the mailing lists, given that:\n\nhttps://mailarchive.ietf.org/arch/msg/jose/YkPiJvsJf2oxZpCosFzkRQT5nfg/\n\nand close the issue?",
          "createdAt": "2025-02-14T16:18:30Z",
          "updatedAt": "2025-02-14T16:23:38Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "PSK is meant for secret keys, not for binding data to message (that is what aad is for).\n\nFurthermore, there is no apparent reason this is limited to HPKE, so the same thing should be possible with all algorithms.\n\nSo yes, I think this issue should be closed given that draft-reddy-jose-detached-aad exists, which I think outlines (meaning the idea is on the right track) a proper way to do what is requested.",
          "createdAt": "2025-03-10T09:12:00Z",
          "updatedAt": "2025-03-10T09:12:00Z"
        }
      ]
    },
    {
      "number": 18,
      "id": "I_kwDOMMuuSM6lBSmW",
      "title": "Use of apu and apv in Recipeint context",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/issues/18",
      "state": "CLOSED",
      "author": "tireddy2",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Authenticated key agreement mechanisms, such as ECDH-SS or authenticated HPKE modes, mitigate the risk of misusing apu and apv by binding the derived key to the specific identities of the participants. This ensures that any alteration to apu or apv invalidates the derived key, preventing unintended use. However, in the base mode of HPKE, where no authentication is provided, the use of apu and apv does not offer any security guarantees and could be subject to misuse. Do we really need apu and apv in the Recipient Context and why is it not required for JWE Integrated Encryption ?",
      "createdAt": "2025-01-04T07:31:34Z",
      "updatedAt": "2025-01-31T10:50:17Z",
      "closedAt": "2025-01-31T10:50:17Z",
      "comments": [
        {
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "body": "`apu` (PartyUInfo) and `apv` (PartyVInfo) are ECDH-specific JWE parameters defined in https://www.rfc-editor.org/rfc/rfc7518.html to enable using these parameters defined for ECDH in https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-56Ar2.pdf.\n\nPartyUInfo and PartyVInfo do not appear in https://www.rfc-editor.org/rfc/rfc9180.html, and therefore we should not introduce them in this draft.  We should use the mechanisms defined in RFC 9180, which have been reviewed by cryptographers, rather than inventing new ones.\n\nI believe this issue should be closed on this basis.\n",
          "createdAt": "2025-01-17T16:58:08Z",
          "updatedAt": "2025-01-17T16:58:08Z"
        }
      ]
    },
    {
      "number": 19,
      "id": "I_kwDOMMuuSM6lBTDG",
      "title": "Binding the Application Context",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/issues/19",
      "state": "CLOSED",
      "author": "tireddy2",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "info: By default, an empty string. Application MAY specify some other value.\r\n\r\nThe existing JWE specifications do not provide a mechanism to include application context as AAD. Addressing this limitation exclusively for HPKE, while not applying similar measures to other algorithms, introduces an asymmetry in how messages are bound to their origin. This inconsistency could create potential vulnerabilities by differing security assurances across cryptographic algorithms. Why is this required just for JWE HPKE ?",
      "createdAt": "2025-01-04T07:33:20Z",
      "updatedAt": "2025-01-31T10:49:46Z",
      "closedAt": "2025-01-31T10:49:46Z",
      "comments": []
    },
    {
      "number": 21,
      "id": "I_kwDOMMuuSM6mpciH",
      "title": "Comply with NIST SP 800-227 Recommendations for Key-Encapsulation Mechanisms",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/issues/21",
      "state": "CLOSED",
      "author": "selfissued",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "We should verify that we're complying with the guidance in https://csrc.nist.gov/pubs/sp/800/227/ipd.\n",
      "createdAt": "2025-01-17T16:40:56Z",
      "updatedAt": "2025-01-31T10:49:58Z",
      "closedAt": "2025-01-31T10:49:58Z",
      "comments": []
    },
    {
      "number": 23,
      "id": "I_kwDOMMuuSM6nAnrS",
      "title": "how JSON Web Keys (JWKs) are used in the context of JOSE-HPKE",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/issues/23",
      "state": "CLOSED",
      "author": "tireddy2",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "please see the discussion in https://mailarchive.ietf.org/arch/msg/cose/asU1U2QWGPLY92eG7aQJXc4L6sc/",
      "createdAt": "2025-01-21T14:07:53Z",
      "updatedAt": "2025-02-10T13:54:21Z",
      "closedAt": "2025-02-10T13:54:21Z",
      "comments": [
        {
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "body": "The referenced discussion seems to be about hybrid scenarios?  Is that correct?  If so, I recommend that it be handled in the hybrid draft and not here.",
          "createdAt": "2025-01-30T23:02:44Z",
          "updatedAt": "2025-01-30T23:02:44Z"
        },
        {
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "body": "The discussion was about hybrid scheme but the JOSE HPKE draft does not specify how JWK are used in the context of JOSE HPKE. ",
          "createdAt": "2025-01-31T15:00:25Z",
          "updatedAt": "2025-01-31T15:00:25Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "I think this issue is resolved.\n\nLong term keys are JWKs, and \"alg\" is optional, unless the key type requires it.\n\nJOSE HPKE operations require alg and a key (but this is an api detail).\n\nencapsulated keys are not expressed as keys, and are instead expressed as message header parameters.",
          "createdAt": "2025-01-31T15:36:45Z",
          "updatedAt": "2025-01-31T15:36:45Z"
        },
        {
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "body": "My understanding is we will have to list the valid combinations of the KEM, \"kty\" and \"crv\" for the algorithms defined in the draft, for instance for HPKE KEM id \"0x0010\", kty will be set to \"EC\" and \"crv\" will be \"P-256\".",
          "createdAt": "2025-02-03T06:34:30Z",
          "updatedAt": "2025-02-03T06:34:30Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "So an informative examples section for existing OKP and EC key types and the DH KEMs  that are registered?",
          "createdAt": "2025-02-03T14:57:34Z",
          "updatedAt": "2025-02-03T14:57:34Z"
        },
        {
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "body": "Yes, I will add a new section, see https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/27",
          "createdAt": "2025-02-04T07:49:42Z",
          "updatedAt": "2025-02-04T12:10:32Z"
        }
      ]
    },
    {
      "number": 29,
      "id": "I_kwDOMMuuSM6tBsH7",
      "title": "HPKE Setup info",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/issues/29",
      "state": "OPEN",
      "author": "tireddy2",
      "authorAssociation": "COLLABORATOR",
      "assignees": [
        "selfissued"
      ],
      "labels": [],
      "body": "HPKE Setup is currently set to empty. The issue is whether HPKE Setup should be allowed to carry any additional information (same issue exists in the COSE HPKE draft).",
      "createdAt": "2025-03-07T12:37:15Z",
      "updatedAt": "2025-03-16T04:24:57Z",
      "closedAt": null,
      "comments": [
        {
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "body": "I propose to define a header parameter that can be used to set this value.",
          "createdAt": "2025-03-16T04:24:55Z",
          "updatedAt": "2025-03-16T04:24:55Z"
        }
      ]
    },
    {
      "number": 30,
      "id": "I_kwDOMMuuSM6tBuYt",
      "title": "HPKE AAD",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/issues/30",
      "state": "OPEN",
      "author": "tireddy2",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "In key encryption mode, the protected header used in content encryption is passed to HPKE as Additional Authenticated Data. please see the discussion in the thread, https://mailarchive.ietf.org/arch/msg/jose/1u4aHjyEZeIECmHwkpbl3kcGZ50",
      "createdAt": "2025-03-07T12:40:37Z",
      "updatedAt": "2025-03-16T15:40:10Z",
      "closedAt": null,
      "comments": [
        {
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "body": "Speaking to @tireddy2 at IETF, this issue is about whether the new modes will cause implementation challenges.\n\nIn my view, yes, code will have to be updated.  That's intrinsic to supporting the new functionality.  I believe this issue should be closed on this basis.",
          "createdAt": "2025-03-16T04:28:30Z",
          "updatedAt": "2025-03-16T04:28:30Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I do not think this issue is about if there are implementation challenges (yes, there will be), but if the challenges are reasonable in magnitude. For Integrated Encryption, I think that the implementation challenges are reasonable (considering it is a whole new mode).\n\nHowever, I think that using protected header in Key Encryption causes unreasonable implementation challenges. In the mailing list post, I was quoted:\n\n> If the existing library has a conflicting assumption in external API, it\n> is NOT possible to adopt it to support this mechanism.\n\nThe second JWE library I looked at (Josekit) does exactly that. And if it took two tries to find such library, one would expect there to be plenty of others.\n\nThe issue is not with implementing new things or use of HPKE. The issue is specifically caused by use of protected header: The construction from #14 (even if flawed due to ap*) would have been implementable.\n\nAnother problem with use of protected header is that it does not cryptographically (independently of any additional checks) separate the modes (since if there is no JWE AAD, the bulk AAD is just protected header). Quoting security considerations of the draft:\n\n> Additionally, the same key MUST NOT be used for both key\n> encryption and integrated encryption, as it may introduce security\n> risks.\n\nThe way I read this is _this mechanism is flawed_.",
          "createdAt": "2025-03-16T08:30:17Z",
          "updatedAt": "2025-03-16T08:30:17Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "body": "Can you make the problem you're seeing more concrete, @ilari?  What does Josekit do that's incompatible with the draft versus what does the first implementation you looked at do that makes it compatible?\n\nAlso, I don't know what you mean by \"The construction from #14\".  That PR was merged, and so presumedly it's the construction in the current draft.  And it's a long PR, so I don't know what part of it you're referring to.  Thanks.",
          "createdAt": "2025-03-16T08:58:47Z",
          "updatedAt": "2025-03-16T08:58:47Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Josekit has public trait (interface) `jwe::JweEncrypter` that is used for recipient encryption. The library comes with some implementations of this trait (to support various algorithms), but the application can implement it in order to support more algorithms.\n\n The method the library uses for multi-recipient modes (Key Wrapping, Key Agreement with Key Wrapping, Key Encryption) is called `encrypt`.\n\nThis method:\n\n* Takes CEK as an input.\n* Takes JOSE Header so far as an input.\n* Takes per-recipient headers as an input and output. The method can mutate these.\n* On success, it can optionally return JWE Encrypted Key.\n\nThe interface does not expose if a parameter in JOSE Header is protected or unprotected, so it is not possible to construct what the protected headers are. So the current construction can not be implemented with this interface.\n\nThe construct from #14 is not in current draft, because that PR was reverted. That construction would be implementable, because the information required to construct HPKE aad would be in JOSE Header so far (enc, apu and apv).\n\nAnd turns out I did not properly investigate the first JOSE library I found because it seemed too limited (no multi-recipient for example) to support Key Encryption. Turns out it does support Key Encryption, also using a public trait for algorithm.\n\nThe relevant method does not take any headers as input, but does take algorithm-specific settings. So the method can not construct the protected headers, but one could in pinch use settings to pass it `enc`.\n\nSo of two first libraries I looked at, neither is compatible. And I expect that there are very few if any compatible libraries that allow application to define additional algorithms. There has been no need for recipient processing to know about protected headers, so interfaces are not designed to expose that information.\n\n",
          "createdAt": "2025-03-16T15:40:08Z",
          "updatedAt": "2025-03-16T15:40:08Z"
        }
      ]
    }
  ],
  "pulls": [
    {
      "number": 1,
      "id": "PR_kwDOMMuuSM50nhtw",
      "title": "Pre ietf 120 cutoff",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/1",
      "state": "MERGED",
      "author": "OR13",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "WIP",
      "createdAt": "2024-07-07T17:42:28Z",
      "updatedAt": "2024-07-07T21:42:43Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "0d1ad8c208d3a59538f9a03f6b7a6d73b58f603a",
      "headRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "headRefName": "pre-ietf-120-cutoff",
      "headRefOid": "80224e0a3adc3caee6ff4eaa738edfb6dc7823c9",
      "closedAt": "2024-07-07T21:42:43Z",
      "mergedAt": "2024-07-07T21:42:43Z",
      "mergedBy": "OR13",
      "mergeCommit": {
        "oid": "c5109ba44c654952a1d9acd59c016a35099348a6"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 5,
      "id": "PR_kwDOMMuuSM53fKFh",
      "title": "Add Matt Chanda as an author",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/5",
      "state": "CLOSED",
      "author": "selfissued",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Cc @tireddy2 @auriee @hannestschofenig\r\n\r\nIf one of you has Matt's GitHub ID, please also add him in a comment.",
      "createdAt": "2024-08-05T19:14:04Z",
      "updatedAt": "2024-10-24T15:49:50Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "1d21801148e4f9123cf9439e2e32346aa1937531",
      "headRepository": "selfissued/draft-ietf-jose-hpke-encrypt",
      "headRefName": "mbj-matt",
      "headRefOid": "faed9e544eee67328481835d03795b0422b45f3e",
      "closedAt": "2024-10-24T15:49:50Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOMMuuSM6ETgw0",
          "commit": {
            "abbreviatedOid": "faed9e5"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2024-08-05T19:22:27Z",
          "updatedAt": "2024-08-05T19:22:27Z",
          "comments": []
        }
      ]
    },
    {
      "number": 6,
      "id": "PR_kwDOMMuuSM5_y4sd",
      "title": "Tooling update",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/6",
      "state": "MERGED",
      "author": "OR13",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "This is the result of running:\r\n\r\n```\r\nmake\r\nmake update-files \r\n```\r\n\r\nKeeping tooling up to date.",
      "createdAt": "2024-10-24T15:51:27Z",
      "updatedAt": "2024-10-24T15:52:19Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "1d21801148e4f9123cf9439e2e32346aa1937531",
      "headRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "headRefName": "tooling-update",
      "headRefOid": "a1b2ff4d8276344042639c86df55e4586d0c9aac",
      "closedAt": "2024-10-24T15:52:19Z",
      "mergedAt": "2024-10-24T15:52:19Z",
      "mergedBy": "OR13",
      "mergeCommit": {
        "oid": "6e267c725b5379e5747f12df7a4075a61ad654d5"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 7,
      "id": "PR_kwDOMMuuSM5_zQNe",
      "title": "Use enc: dir",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/7",
      "state": "MERGED",
      "author": "OR13",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "This pull request simplifies some examples, adds support for HPKE Setup Info, and clarifies the use of \"enc: dir\" for both HPKE JWE modes.",
      "createdAt": "2024-10-24T16:47:32Z",
      "updatedAt": "2024-11-01T08:58:45Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "6e267c725b5379e5747f12df7a4075a61ad654d5",
      "headRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "headRefName": "enc-dir-jwts",
      "headRefOid": "6785f69024967e797bf382ada9eb515f7b527b6b",
      "closedAt": "2024-11-01T08:52:27Z",
      "mergedAt": "2024-11-01T08:52:27Z",
      "mergedBy": "tireddy2",
      "mergeCommit": {
        "oid": "e37f01f5194691497ffc610c8f6622722d9eb70e"
      },
      "comments": [
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "@tireddy2 would you mind merging this, and then making adjustments in https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/9\r\n\r\nWe still have some further alignment to cover, but it would be good to have no open PRs during the week of IETF.\r\n\r\nAnd we can consider publishing a new version when the draft window opens up.",
          "createdAt": "2024-10-31T15:57:16Z",
          "updatedAt": "2024-10-31T15:57:16Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "body": "Agreed - the spec will be improved by merging this.  I just approved.\n\nFrom: Orie Steele ***@***.***>\nSent: Thursday, October 31, 2024 8:58 AM\nTo: ietf-wg-jose/draft-ietf-jose-hpke-encrypt ***@***.***>\nCc: Michael B. Jones ***@***.***>; Comment ***@***.***>\nSubject: Re: [ietf-wg-jose/draft-ietf-jose-hpke-encrypt] Use enc: dir (PR #7)\n\n\n@tireddy2<https://github.com/tireddy2> would you mind merging this, and then making adjustments in #9<https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/9>\n\nWe still have some further alignment to cover, but it would be good to have no open PRs during the week of IETF.\n\nAnd we can consider publishing a new version when the draft window opens up.\n\n-\nReply to this email directly, view it on GitHub<https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/7#issuecomment-2450239134>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/AB2KJ7QHRSH4YVBNMXMF7JTZ6JHPHAVCNFSM6AAAAABQRQI6LCVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDINJQGIZTSMJTGQ>.\nYou are receiving this because you commented.Message ID: ***@***.******@***.***>>\n",
          "createdAt": "2024-10-31T16:47:41Z",
          "updatedAt": "2024-10-31T16:47:41Z"
        },
        {
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "body": "@OR13 @selfissued - Merged the PR, please review https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/9",
          "createdAt": "2024-11-01T08:58:44Z",
          "updatedAt": "2024-11-01T08:58:44Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOMMuuSM6OpijO",
          "commit": {
            "abbreviatedOid": "795ad44"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-10-24T16:59:57Z",
          "updatedAt": "2024-10-24T16:59:58Z",
          "comments": [
            {
              "originalPosition": 93,
              "body": "```suggestion\r\n- The recipient unprotected header MUST contain a registered HPKE \"alg\" value.\r\n```\r\nThe \"alg\" value should be registered a short identifier that fully-specifies the computation to be performed.  It should not contain syntax that is parsed, such as a required string prefix.",
              "createdAt": "2024-10-24T16:59:57Z",
              "updatedAt": "2024-10-24T17:01:08Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Opl0p",
          "commit": {
            "abbreviatedOid": "795ad44"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-10-24T17:03:35Z",
          "updatedAt": "2024-10-24T17:03:36Z",
          "comments": [
            {
              "originalPosition": 43,
              "body": "We should deal with this in a different issue, but this is the longest \"alg\" value ever - by far.  They're meant to be short registered identifiers - not strings you can parse.",
              "createdAt": "2024-10-24T17:03:35Z",
              "updatedAt": "2024-10-24T17:03:36Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6OuP98",
          "commit": {
            "abbreviatedOid": "795ad44"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-10-25T07:52:49Z",
          "updatedAt": "2024-10-25T07:52:50Z",
          "comments": [
            {
              "originalPosition": 22,
              "body": "You may want to replace \"must\" with \"MUST\". ",
              "createdAt": "2024-10-25T07:52:49Z",
              "updatedAt": "2024-10-25T07:52:50Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6OuVzT",
          "commit": {
            "abbreviatedOid": "795ad44"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-10-25T08:03:49Z",
          "updatedAt": "2024-10-25T08:03:49Z",
          "comments": [
            {
              "originalPosition": 28,
              "body": "we will have to remove the following line from the draft: \r\nThe \"Setup info\" MUST NOT be used with either HPKE JWE Integrated Encryption and HPKE JWE Key Encryption.",
              "createdAt": "2024-10-25T08:03:49Z",
              "updatedAt": "2024-10-25T08:03:49Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6OuaNz",
          "commit": {
            "abbreviatedOid": "6785f69"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-10-25T08:11:09Z",
          "updatedAt": "2024-10-25T08:11:09Z",
          "comments": [
            {
              "originalPosition": 94,
              "body": "In the case of Key Encryption, what is the need to convey \"enc\" in the recipient unprotected header? I don\u2019t see a need for it in this mode, as the HPKE JWE Key Encryption Mode can function similarly to Key Agreement with ECDH-ES.",
              "createdAt": "2024-10-25T08:11:09Z",
              "updatedAt": "2024-10-25T08:11:10Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6OugDt",
          "commit": {
            "abbreviatedOid": "6785f69"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-10-25T08:19:28Z",
          "updatedAt": "2024-10-25T08:19:28Z",
          "comments": [
            {
              "originalPosition": 28,
              "body": "I think for interoperability we should say the following for both modes :\r\nWhen apu / apv are present, the HPKE Setup info parameter will carry the JOSE context-specific data defined in Section 4.6.2 of [RFC7518].",
              "createdAt": "2024-10-25T08:19:28Z",
              "updatedAt": "2024-10-25T08:19:28Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6OulSB",
          "commit": {
            "abbreviatedOid": "6785f69"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "Most of the changes look good. ",
          "createdAt": "2024-10-25T08:26:01Z",
          "updatedAt": "2024-10-25T08:26:01Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOMMuuSM6PjzY8",
          "commit": {
            "abbreviatedOid": "6785f69"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2024-10-31T16:46:39Z",
          "updatedAt": "2024-10-31T16:46:39Z",
          "comments": []
        }
      ]
    },
    {
      "number": 9,
      "id": "PR_kwDOMMuuSM6AhKT8",
      "title": "Address pending issues",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/9",
      "state": "MERGED",
      "author": "tireddy2",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-10-31T12:43:00Z",
      "updatedAt": "2024-11-01T09:24:33Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "enc-dir-jwts",
      "baseRefOid": "6785f69024967e797bf382ada9eb515f7b527b6b",
      "headRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "headRefName": "tireddy2-patch-1",
      "headRefOid": "cb07b873a3b6a62d95116600d38b81c94bf805f5",
      "closedAt": "2024-11-01T09:24:33Z",
      "mergedAt": "2024-11-01T09:24:33Z",
      "mergedBy": "tireddy2",
      "mergeCommit": {
        "oid": "13bc9096df81c3216a6f558585e1a73d8807b6d3"
      },
      "comments": [
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "Looks good to me, Mike also pointed out the extraneous enc in the recipient, thanks for fixing that",
          "createdAt": "2024-11-01T09:14:12Z",
          "updatedAt": "2024-11-01T09:14:12Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOMMuuSM6Poelx",
          "commit": {
            "abbreviatedOid": "cb07b87"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2024-11-01T09:13:11Z",
          "updatedAt": "2024-11-01T09:13:12Z",
          "comments": []
        }
      ]
    },
    {
      "number": 10,
      "id": "PR_kwDOMMuuSM6DUmq3",
      "title": "Address comments from Illari",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/10",
      "state": "CLOSED",
      "author": "tireddy2",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-11-27T11:06:00Z",
      "updatedAt": "2024-12-04T14:03:21Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "909853a7e08049eb61036d5f51982a7610028af3",
      "headRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "headRefName": "tireddy2-patch-2",
      "headRefOid": "1d57849149085140a38b908abb1c9bb478223a58",
      "closedAt": "2024-12-04T14:03:21Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    },
    {
      "number": 11,
      "id": "PR_kwDOMMuuSM6EC9cr",
      "title": "Address comments from the WG",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/11",
      "state": "MERGED",
      "author": "tireddy2",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-12-04T14:03:12Z",
      "updatedAt": "2024-12-06T06:22:43Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "909853a7e08049eb61036d5f51982a7610028af3",
      "headRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "headRefName": "tireddy2-patch-4",
      "headRefOid": "7ca4623a6562c5edfbc6bc665924f9cce9f63381",
      "closedAt": "2024-12-06T06:22:43Z",
      "mergedAt": "2024-12-06T06:22:43Z",
      "mergedBy": "tireddy2",
      "mergeCommit": {
        "oid": "256f1d8238d75dc737b6477ddb49592e82a08ab9"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOMMuuSM6Twjsg",
          "commit": {
            "abbreviatedOid": "1ea7e42"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2024-12-04T15:05:03Z",
          "updatedAt": "2024-12-05T06:26:19Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOMMuuSM6TxZHO",
          "commit": {
            "abbreviatedOid": "b19ab2f"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-04T15:59:41Z",
          "updatedAt": "2024-12-04T16:32:59Z",
          "comments": [
            {
              "originalPosition": 10,
              "body": "There are some issues with this:\r\n- Section 4.6.2. of RFC7518 does not define what AlgorithmID should be in this case (it only says anything about Direct Key Agreement and Key Agreement with Key Wrapping, and this is neither of those).\r\n- Section 4.6.2. of RFC7518 defines SuppPubInfo to be keydatalen (keydatalen is not well-defined in HPKE).\r\n- Section 4.6.2. of RFC7518 defines SuppPrivInfo to always be empty, so it does nothing.\r\n",
              "createdAt": "2024-12-04T15:59:42Z",
              "updatedAt": "2024-12-04T16:32:59Z"
            },
            {
              "originalPosition": 27,
              "body": "The comment above applies here too.",
              "createdAt": "2024-12-04T16:01:46Z",
              "updatedAt": "2024-12-04T16:32:59Z"
            },
            {
              "originalPosition": 35,
              "body": "This should presumably be a subsection of Security Considerations instead of being its own top-level section.",
              "createdAt": "2024-12-04T16:05:44Z",
              "updatedAt": "2024-12-04T16:32:59Z"
            },
            {
              "originalPosition": 41,
              "body": "Section 9.2.3. of RFC9180 does not say anything about using a single key for multiple algorithms, it talks about using a single key for multiple modes (Base, Auth, PSK, AuthPSK). It notes that this should be safe, even if there is no proof this is the case.\r\n\r\nUsing multiple HPKE algorithm combinations with the same key is safe. However, using the same key with HPKE and non-HPKE is not generically safe. However, unless the non-HPKE mechanism is specifically designed to interact badly with HPKE, bad interactions are unlikely to be possible.",
              "createdAt": "2024-12-04T16:26:58Z",
              "updatedAt": "2024-12-04T16:32:59Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6T2fi3",
          "commit": {
            "abbreviatedOid": "b19ab2f"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-05T05:55:23Z",
          "updatedAt": "2024-12-05T05:55:23Z",
          "comments": [
            {
              "originalPosition": 41,
              "body": "I see reference to Section 9.2.3 of {{RFC9180}] is not correct but we would like to have this behavior to address the comment from Orie, see https://mailarchive.ietf.org/arch/msg/cose/Wb8ueEn71Tx0-ANh4ZdJjvYXJbQ/",
              "createdAt": "2024-12-05T05:55:23Z",
              "updatedAt": "2024-12-05T05:55:23Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6T2fmv",
          "commit": {
            "abbreviatedOid": "b19ab2f"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-05T05:55:37Z",
          "updatedAt": "2024-12-05T06:08:55Z",
          "comments": [
            {
              "originalPosition": 35,
              "body": "Yes, fixed. ",
              "createdAt": "2024-12-05T05:55:37Z",
              "updatedAt": "2024-12-05T06:08:55Z"
            },
            {
              "originalPosition": 27,
              "body": "Updated text. ",
              "createdAt": "2024-12-05T05:55:51Z",
              "updatedAt": "2024-12-05T06:08:55Z"
            },
            {
              "originalPosition": 10,
              "body": "Good point, updated text elaborate the use of AlgorithmID and removed the use of SuppPubInfo and SuppPrivInfo.",
              "createdAt": "2024-12-05T06:08:46Z",
              "updatedAt": "2024-12-05T06:08:55Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6T8dEQ",
          "commit": {
            "abbreviatedOid": "7ca4623"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2024-12-05T15:43:41Z",
          "updatedAt": "2024-12-05T15:43:41Z",
          "comments": []
        }
      ]
    },
    {
      "number": 12,
      "id": "PR_kwDOMMuuSM6FBHT8",
      "title": "Use short algorithm identifiers",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/12",
      "state": "MERGED",
      "author": "selfissued",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "... per the [JOSE naming conventions](https://www.rfc-editor.org/rfc/rfc7518.html#section-1):\r\n> Names defined by this specification are short because a core goal is for the resulting representations to be compact.\r\n\r\nFixes #8",
      "createdAt": "2024-12-12T13:18:05Z",
      "updatedAt": "2024-12-18T19:48:58Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "12d60286191eed280bc5918524cee823b8f1c8a5",
      "headRepository": "selfissued/draft-ietf-jose-hpke-encrypt",
      "headRefName": "mbj-shorter-algs",
      "headRefOid": "b395be7258a5f7736281e4452064064e6bb4045d",
      "closedAt": "2024-12-18T19:48:58Z",
      "mergedAt": "2024-12-18T19:48:57Z",
      "mergedBy": "selfissued",
      "mergeCommit": {
        "oid": "d3c6d5120c128e0001b051718a62f3c87b27ea40"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOMMuuSM6VAGkK",
          "commit": {
            "abbreviatedOid": "b395be7"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "Assuming there is consensus to apply these names consistently to COSE:\r\n\r\nhttps://github.com/cose-wg/HPKE/pull/60",
          "createdAt": "2024-12-12T14:32:17Z",
          "updatedAt": "2024-12-12T14:32:17Z",
          "comments": []
        }
      ]
    },
    {
      "number": 14,
      "id": "PR_kwDOMMuuSM6FUXte",
      "title": "Define JOSE-HPKE for other specs",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/14",
      "state": "MERGED",
      "author": "ilaril",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "This attempts to define JOSE-HPKE as a generic mechanism other specifications defining cipher suites can refer to.\r\n\r\nThis avoids having other specifications adding cipher suites essentially re-define JOSE-HPKE (or leave a lot implicit). Not only is that tedious, it is also error-prone.\r\n\r\nThis rewrites a large part of section 4. There are quite a bit of technical changes. Most of those changes are to align how Key Encryption works with the requirements in JWE. AAD construction for Key Encryption is also changed, the new construction should pose less implementation difficulties and addresses both cross-mode and oracle attacks, even if JOSE implementation omits mandatory checks. Finally, this also defines how keys (including AKP) work.\r\n\r\nNeeds a lot of wordsmithing (and I copied text from original that I think needs editorial improvement).\r\n",
      "createdAt": "2024-12-16T08:28:07Z",
      "updatedAt": "2025-01-02T08:26:04Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "12d60286191eed280bc5918524cee823b8f1c8a5",
      "headRepository": "ilaril/JOSE-HPKE",
      "headRefName": "generic-jose-hpke",
      "headRefOid": "e3129f7a705e953139cc1aa0e2ea2a88e893f628",
      "closedAt": "2025-01-02T08:26:04Z",
      "mergedAt": "2025-01-02T08:26:04Z",
      "mergedBy": "tireddy2",
      "mergeCommit": {
        "oid": "832915b77bbadc9a1e82c996e263ec6188f0acc3"
      },
      "comments": [
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "I recommend merging this in 1 week, unless there are objections.",
          "createdAt": "2024-12-16T14:33:53Z",
          "updatedAt": "2024-12-16T14:33:53Z"
        },
        {
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "body": "I will merge the PR and raise another PR for further updates to the draft. ",
          "createdAt": "2025-01-02T08:25:59Z",
          "updatedAt": "2025-01-02T08:25:59Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOMMuuSM6VY-LI",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-16T14:29:16Z",
          "updatedAt": "2024-12-16T14:29:16Z",
          "comments": [
            {
              "originalPosition": 111,
              "body": "I don't have an objection to this, but ideally we have something similar in the COSE draft, and cross references between the two to make this easier to understand.",
              "createdAt": "2024-12-16T14:29:16Z",
              "updatedAt": "2024-12-16T14:29:17Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6VY-8r",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2024-12-16T14:30:30Z",
          "updatedAt": "2024-12-16T14:30:30Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOMMuuSM6WW2XT",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-25T12:26:47Z",
          "updatedAt": "2024-12-25T13:02:13Z",
          "comments": [
            {
              "originalPosition": 96,
              "body": "Why explicitly discuss about \u201czip\u201d parameter,  the draft does not do anything new with compressing plaintext data. It was discussed in the previous versions of the draft and removed for this reason.",
              "createdAt": "2024-12-25T12:26:48Z",
              "updatedAt": "2024-12-25T13:02:13Z"
            },
            {
              "originalPosition": 108,
              "body": "How is the Recipient Context defined in Section 4.2 used by HPKE ?",
              "createdAt": "2024-12-25T12:27:29Z",
              "updatedAt": "2024-12-25T13:02:13Z"
            },
            {
              "originalPosition": 108,
              "body": "Why is the Recipient Context not used for JWE Integrated Encryption ?",
              "createdAt": "2024-12-25T12:28:05Z",
              "updatedAt": "2024-12-25T13:02:13Z"
            },
            {
              "originalPosition": 73,
              "body": "Why is the HPKE Setup info not used to convey the JOSE context-specific data (enc, apu and apv) ?\r\nFor example TLS ECH uses both aad and info, and the size of HPKE setup info is much larger than 64 bytes. TLS ECH is already supported by browsers. ",
              "createdAt": "2024-12-25T12:32:26Z",
              "updatedAt": "2024-12-25T13:02:13Z"
            },
            {
              "originalPosition": 250,
              "body": "I prefer to use \"MUST NOT\" instead of \"SHOULD NOT\". I don't think \"authentication key\" is defined anywhere in this doc and HPKE draft. It needs to be defined. ",
              "createdAt": "2024-12-25T12:36:47Z",
              "updatedAt": "2024-12-25T13:02:13Z"
            },
            {
              "originalPosition": 252,
              "body": "I prefer to use \"MUST NOT\" instead of \"SHOULD NOT\". ",
              "createdAt": "2024-12-25T12:38:01Z",
              "updatedAt": "2024-12-25T13:02:13Z"
            },
            {
              "originalPosition": 255,
              "body": "If the key is compromised in one of the modes, it will impact the other mode, what is the use case to allow the same key for both Integrated Encryption and Key Encryption ?",
              "createdAt": "2024-12-25T12:50:58Z",
              "updatedAt": "2024-12-25T13:02:13Z"
            },
            {
              "originalPosition": 243,
              "body": "please elaborate on the insecurity issue. ",
              "createdAt": "2024-12-25T12:53:52Z",
              "updatedAt": "2024-12-25T13:02:13Z"
            },
            {
              "originalPosition": 61,
              "body": "Replace \"SHALL\" with \"MUST\"",
              "createdAt": "2024-12-25T12:59:43Z",
              "updatedAt": "2024-12-25T13:02:13Z"
            },
            {
              "originalPosition": 62,
              "body": "Replace \"SHALL\" with \"MUST\"",
              "createdAt": "2024-12-25T12:59:58Z",
              "updatedAt": "2024-12-25T13:02:13Z"
            },
            {
              "originalPosition": 63,
              "body": "Replace all occurrences of \"SHALL\" with \"MUST\" (lines 183 to 192). ",
              "createdAt": "2024-12-25T13:01:39Z",
              "updatedAt": "2024-12-25T13:03:39Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WXNIF",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-25T22:03:56Z",
          "updatedAt": "2024-12-25T22:03:56Z",
          "comments": [
            {
              "originalPosition": 96,
              "body": "JWE does not define what happens with Integrated Encryption.",
              "createdAt": "2024-12-25T22:03:56Z",
              "updatedAt": "2024-12-25T22:03:56Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WXNJX",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-25T22:05:17Z",
          "updatedAt": "2024-12-25T22:05:17Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "As aad input in the Key Encryption case.",
              "createdAt": "2024-12-25T22:05:17Z",
              "updatedAt": "2024-12-25T22:05:17Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WXNMm",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-25T22:08:30Z",
          "updatedAt": "2024-12-25T22:08:30Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "Because it is not enough for that case: One needs to authenticate the protected header and JWE AAD.",
              "createdAt": "2024-12-25T22:08:30Z",
              "updatedAt": "2024-12-25T22:08:30Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WXNV9",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-25T22:17:27Z",
          "updatedAt": "2024-12-25T22:17:27Z",
          "comments": [
            {
              "originalPosition": 73,
              "body": "That is to leave the HPKE setup info free for application to use for actual context binding.  Apu and apv in JOSE are pretty much completely broken.\r\n\r\nAlso, it is unsound to allow any aad,info pair to be valid for both Integrated Encryption and Key Encryption.",
              "createdAt": "2024-12-25T22:17:27Z",
              "updatedAt": "2024-12-25T22:37:32Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WXNek",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-25T22:26:03Z",
          "updatedAt": "2024-12-25T22:26:03Z",
          "comments": [
            {
              "originalPosition": 250,
              "body": "Looking at HPKE RFC, I think it should be \"sender key\" instead of \"authentication key\".",
              "createdAt": "2024-12-25T22:26:03Z",
              "updatedAt": "2024-12-25T22:26:03Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WXNoP",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-25T22:34:26Z",
          "updatedAt": "2024-12-25T22:34:26Z",
          "comments": [
            {
              "originalPosition": 255,
              "body": "Restricting key to one mode does not help against key compromise, as any such compromise must involve mechanisms outside JOSE-HPKE.\r\n\r\nIntegrated Encryption is more straightforward for one recipient, but can not handle multiple recipients.",
              "createdAt": "2024-12-25T22:34:26Z",
              "updatedAt": "2024-12-25T22:34:26Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WXNwe",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-25T22:41:59Z",
          "updatedAt": "2024-12-25T22:41:59Z",
          "comments": [
            {
              "originalPosition": 243,
              "body": "Anyone that has access to CEK can alter the message by just encrypting a new one and replacing the protected headers / ciphertext.",
              "createdAt": "2024-12-25T22:41:59Z",
              "updatedAt": "2024-12-25T22:41:59Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WXN3p",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-25T22:48:14Z",
          "updatedAt": "2024-12-25T22:48:14Z",
          "comments": [
            {
              "originalPosition": 63,
              "body": "Thinking about it, switching between keywords with no defined or obvious pattern (but in this case there is a pattern) looks odd.",
              "createdAt": "2024-12-25T22:48:14Z",
              "updatedAt": "2024-12-25T22:48:14Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WYG4w",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T07:32:41Z",
          "updatedAt": "2024-12-26T07:32:41Z",
          "comments": [
            {
              "originalPosition": 63,
              "body": "Yes, while \"SHALL\" and \"MUST\" both indicate mandatory requirements, I prefer sticking to one term in the document which would improve consistency and clarity.",
              "createdAt": "2024-12-26T07:32:41Z",
              "updatedAt": "2024-12-26T07:32:41Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WYI1A",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T07:42:35Z",
          "updatedAt": "2024-12-26T07:42:35Z",
          "comments": [
            {
              "originalPosition": 243,
              "body": "It is not clear to me why the Authenticated HPKE mode cannot be used \r\nwith Key Encryption ?\r\n\r\n",
              "createdAt": "2024-12-26T07:42:35Z",
              "updatedAt": "2024-12-26T07:42:35Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WYK9s",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T07:53:36Z",
          "updatedAt": "2024-12-26T07:53:37Z",
          "comments": [
            {
              "originalPosition": 255,
              "body": "Why a key needs to be used for both Integrated Encryption and Key Encryption modes ?\r\n\r\nIt would also introduce additional complexity of multiple key_ops (derivebits and wrapKey).\r\nI don't see any such rule defined in in JWE which allows a key to be re-used for direct key agreement and key encryption modes.",
              "createdAt": "2024-12-26T07:53:37Z",
              "updatedAt": "2024-12-26T08:30:40Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WYLYo",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T07:55:31Z",
          "updatedAt": "2024-12-26T07:55:31Z",
          "comments": [
            {
              "originalPosition": 250,
              "body": "I can't find the term \"sender key\" in HPKE RFC. ",
              "createdAt": "2024-12-26T07:55:31Z",
              "updatedAt": "2024-12-26T07:55:31Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WYR0z",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T08:25:51Z",
          "updatedAt": "2024-12-26T08:25:51Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "If apu and apv in JOSE are pretty much completely broken. why use it in the Recipient context ? \r\nWhat about the \"JWE Additional Authenticated Data encryption parameter\" defined in Step 14 of Section 5.1 of RFC7516 ?  \r\nIt needs to be used for both modes.",
              "createdAt": "2024-12-26T08:25:51Z",
              "updatedAt": "2024-12-26T08:29:02Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WYSB1",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T08:26:42Z",
          "updatedAt": "2024-12-26T08:26:43Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "I meant the HPKE Setup info can be used to be carry the Recipient context in case of JWE Integrated Encryption. ",
              "createdAt": "2024-12-26T08:26:42Z",
              "updatedAt": "2024-12-26T08:26:43Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WYSnf",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T08:29:41Z",
          "updatedAt": "2024-12-26T08:29:41Z",
          "comments": [
            {
              "originalPosition": 73,
              "body": "If apu and apv is broken, why use it for key encryption mode ?\r\n",
              "createdAt": "2024-12-26T08:29:41Z",
              "updatedAt": "2024-12-26T08:30:56Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WYl9o",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T09:57:38Z",
          "updatedAt": "2024-12-26T09:57:39Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "Apu and apv were included before, I guess to maintain parity with Key Agreement.\r\n\r\nAnd both modes do include JWE AAD. It is part of \"Additional Authenticated Data encryption parameter\", which then gets fed as aad to bulk encryption (either HPKE or JWE native bulk encryption).",
              "createdAt": "2024-12-26T09:57:39Z",
              "updatedAt": "2024-12-26T09:57:39Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WYnVI",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T10:04:18Z",
          "updatedAt": "2024-12-26T10:04:18Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "That would require multiplexing that field, since HPKE Setup info is also used for non-broken context binding from application.",
              "createdAt": "2024-12-26T10:04:18Z",
              "updatedAt": "2024-12-26T10:04:18Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WYnv6",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T10:06:19Z",
          "updatedAt": "2024-12-26T10:06:19Z",
          "comments": [
            {
              "originalPosition": 73,
              "body": "I included because it was there before, I can only speculate why it was there.",
              "createdAt": "2024-12-26T10:06:19Z",
              "updatedAt": "2024-12-26T10:06:19Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WYpe-",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T10:13:42Z",
          "updatedAt": "2024-12-26T10:13:43Z",
          "comments": [
            {
              "originalPosition": 250,
              "body": "I got that from reading section 5.1.3...\r\n\r\nThe notation section implies that the terms are \"sender role\" and \"recipient role\". So presumably the statement should be:\r\n\r\nA single key SHOULD NOT be used in both sender and recipient roles, as this has not been proven to be safe.\r\n",
              "createdAt": "2024-12-26T10:13:43Z",
              "updatedAt": "2024-12-26T10:13:43Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WYr5k",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T10:22:53Z",
          "updatedAt": "2024-12-26T10:22:53Z",
          "comments": [
            {
              "originalPosition": 255,
              "body": "It is operationally easier to allow both. And AFAIK there is no good reasons to disallow it (where \"it might not be safe\", e.g., mixing sender and recipient roles, would count as a good reason).\r\n\r\nI think key_ops are just totally busted. And it would not need multiple key_ops: Both invoke HPKE, which I think is derivebits (not sure given the mess that is key_ops).",
              "createdAt": "2024-12-26T10:22:53Z",
              "updatedAt": "2024-12-26T10:22:53Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WYtOk",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T10:25:59Z",
          "updatedAt": "2024-12-26T10:25:59Z",
          "comments": [
            {
              "originalPosition": 243,
              "body": "Put another way, using Authenticated HPKE with Key Encryption would authenticate the CEK. Which does not even indirectly authenticate the actual message.\r\n\r\nWhereas Authenticated HPKE with Integrated Encryption does authenticate protected headers, JWE AAD and the  message plaintext.",
              "createdAt": "2024-12-26T10:25:59Z",
              "updatedAt": "2024-12-26T10:25:59Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WYuil",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T10:32:26Z",
          "updatedAt": "2024-12-26T10:32:26Z",
          "comments": [
            {
              "originalPosition": 252,
              "body": "Regarding these two, it might be useful to define \"use\" values for the two roles (e.g., \"HPKE\" and \"HPKE-auth\"), in order to signal that a key is only meant for HPKE recipient role, or HPKE sender role.\r\n\r\nAFAIK, registered \"crv\" values for EC2 and OKP key types can represent any currently valid HPKE sender role key pair.",
              "createdAt": "2024-12-26T10:32:26Z",
              "updatedAt": "2024-12-26T10:32:26Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WZFUc",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T12:42:57Z",
          "updatedAt": "2024-12-26T12:42:57Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "The problem is JWE AAD is not included in the Key Encryption mode, it is only included in the Integrated Encryption mode.  It needs to be fixed; it was included in both modes in the latest published version of the draft. \r\n\r\nOne possible solution for both modes would be use HPKE Setup info to carry the Recipient Context. In both modes, JWE AAD should be conveyed in HPKE aad. ",
              "createdAt": "2024-12-26T12:42:57Z",
              "updatedAt": "2024-12-26T12:42:57Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WZHv0",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T12:53:49Z",
          "updatedAt": "2024-12-26T12:53:50Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "Yes, if apu and apv are empty then info carries the context binding from the application. ",
              "createdAt": "2024-12-26T12:53:49Z",
              "updatedAt": "2024-12-26T12:53:50Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WZIUv",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T12:56:59Z",
          "updatedAt": "2024-12-26T12:56:59Z",
          "comments": [
            {
              "originalPosition": 73,
              "body": "I prefer including them in both modes to maintain consistency with Section 4.6.2 of RFC 7518, or alternatively, not including them with an explanation that it is broken.",
              "createdAt": "2024-12-26T12:56:59Z",
              "updatedAt": "2024-12-26T12:57:00Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WZJpQ",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T13:04:18Z",
          "updatedAt": "2024-12-26T13:04:18Z",
          "comments": [
            {
              "originalPosition": 250,
              "body": "Why would an application use the same key for sender and recipient roles ?\r\nI don't see this attack discussed in HPKE.\r\n",
              "createdAt": "2024-12-26T13:04:18Z",
              "updatedAt": "2024-12-26T13:04:19Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WZKF7",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T13:06:55Z",
          "updatedAt": "2024-12-26T13:06:55Z",
          "comments": [
            {
              "originalPosition": 255,
              "body": "I prefer to keep it simple, managing keys for multiple purposes within the same system increases the complexity of key management and raises the risk of implementation errors. ",
              "createdAt": "2024-12-26T13:06:55Z",
              "updatedAt": "2024-12-26T13:06:55Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WZMVW",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T13:17:50Z",
          "updatedAt": "2024-12-26T13:17:50Z",
          "comments": [
            {
              "originalPosition": 243,
              "body": "Authenticated HPKE already authenticates the CEK, ensuring it originates from the sender. The plaintext is then encrypted using AEAD, which provides both confidentiality and authentication for the message.\r\n\r\nWhy does the receiver need stronger assurances that the plaintext itself is cryptographically bound to the sender's identity? The CEK is authenticated, and the AEAD encryption protects the plaintext's integrity and confidentiality.\r\n\r\nCould you clarify the specific threat model where this additional assurance becomes critical? \r\n\r\nI don\u2019t see the threat.",
              "createdAt": "2024-12-26T13:17:50Z",
              "updatedAt": "2024-12-26T13:17:50Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WZo24",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T15:43:59Z",
          "updatedAt": "2024-12-26T15:43:59Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "It **is** included in Key Encryption mode, as JWE implicitly includes it.\r\n\r\nIntegrated Encryption has to explicitly include it, because it bypasses the parts of JWE that normally ensure that JWE AAD gets included.\r\n\r\n",
              "createdAt": "2024-12-26T15:43:59Z",
              "updatedAt": "2024-12-26T15:43:59Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WZp2D",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T15:50:13Z",
          "updatedAt": "2024-12-26T15:50:13Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "If message has apu or apv and application specifies context, what then? Overriding the context from application is not acceptable.",
              "createdAt": "2024-12-26T15:50:13Z",
              "updatedAt": "2024-12-26T15:50:13Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WZulu",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T16:20:43Z",
          "updatedAt": "2024-12-26T16:20:43Z",
          "comments": [
            {
              "originalPosition": 73,
              "body": "Section 4.6.2 is only applicable to Key Agreement, which HPKE is not (the internal structure of HPKE is irrelevant here).\r\n\r\nConsistency would be to other Key Encryption algorithms, which do not support apu nor apv. The \"enc\" ensures that cross-mode attack is not possible, and that bad JWE implementations are not exposed to oracle attack.\r\n\r\nAFAICT, apu and apv are just useless in JWE. The arguments for those only hold for ECDH-SS or implicit apu, and the section 4.6.2 context structure would not work for ECDH-SS (no place to put the nonce required for security) nor does it allow implicit apu.",
              "createdAt": "2024-12-26T16:20:43Z",
              "updatedAt": "2024-12-26T16:58:51Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WZwik",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T16:33:10Z",
          "updatedAt": "2024-12-26T16:33:10Z",
          "comments": [
            {
              "originalPosition": 250,
              "body": "I guess application could use the same key for sender and recipient roles because it is easier. It is not good cryptographic practice.\r\n\r\nLast paragraph of section 9.2.3. The paragraph talks about using key in multiple \"modes\", but the only possible issue is with using the same key in both sender and recipient roles. Most likely that is not an issue, but there is no proof of that.",
              "createdAt": "2024-12-26T16:33:10Z",
              "updatedAt": "2024-12-26T16:33:10Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WZx4H",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T16:41:13Z",
          "updatedAt": "2024-12-26T16:41:13Z",
          "comments": [
            {
              "originalPosition": 255,
              "body": "Not tracking the purpose is simpler.\r\n\r\nAnd given this is asymmetric encryption, the purpose would have to be expressible in public keys.",
              "createdAt": "2024-12-26T16:41:13Z",
              "updatedAt": "2024-12-26T16:41:13Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WZzb1",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-26T16:51:58Z",
          "updatedAt": "2024-12-26T16:51:59Z",
          "comments": [
            {
              "originalPosition": 243,
              "body": "If there are multiple recipients in the original message, the message authentication breaks down since any other recipient might have forged the message.\r\n\r\nChecking for one recipient does not work: The number of recipients is not authenticated, so attacker might have stripped all recipients except the target, so the message appears to have just a single recipient.",
              "createdAt": "2024-12-26T16:51:58Z",
              "updatedAt": "2024-12-26T16:51:59Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Wa9MA",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T04:30:22Z",
          "updatedAt": "2024-12-27T04:30:22Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "In the revised Key Encryption Section, HPKE aad only carries the Recipient Context. JWE AAD needs to be conveyed in the HPKE aad. ",
              "createdAt": "2024-12-27T04:30:22Z",
              "updatedAt": "2024-12-27T04:30:22Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Wa9d0",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T04:33:09Z",
          "updatedAt": "2024-12-27T04:33:09Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "I don't see existing JWE spec allows application context to be used as aad. what is the need in JWE HPKE to carry the application specific context ?\r\nIf application specific context is required, recipient context can be concatenated to application specific context. ",
              "createdAt": "2024-12-27T04:33:09Z",
              "updatedAt": "2024-12-27T04:33:09Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WbEJQ",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T05:12:12Z",
          "updatedAt": "2024-12-27T05:12:12Z",
          "comments": [
            {
              "originalPosition": 250,
              "body": "Agreed, I propose to update the text as follows::\r\nA single key MUST NOT be used in both sender and recipient roles. Avoiding the use of the same key for both sender and recipient roles ensures clear cryptographic boundaries and minimizes unintended interactions.",
              "createdAt": "2024-12-27T05:12:12Z",
              "updatedAt": "2024-12-27T05:12:12Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WbFBk",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T05:19:41Z",
          "updatedAt": "2024-12-27T05:19:41Z",
          "comments": [
            {
              "originalPosition": 243,
              "body": "Yes, if any recipient acts as a MiTM to modify the message or strip the recipient list, such an attack cannot be detected in JWE, even when Authenticated HPKE is not used. ",
              "createdAt": "2024-12-27T05:19:41Z",
              "updatedAt": "2024-12-27T05:19:41Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WbGVw",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T05:28:14Z",
          "updatedAt": "2024-12-27T05:28:15Z",
          "comments": [
            {
              "originalPosition": 255,
              "body": "I prefer to prioritize simplicity: each key should have a well-defined, single purpose. This approach minimizes risk and aligns with the principle of least privilege in cryptographic systems. If there is a strong operational need to allow key reuse, it should be clearly documented along with the associated trade-offs, potential risks and use of multiple key_ops.",
              "createdAt": "2024-12-27T05:28:14Z",
              "updatedAt": "2024-12-27T05:28:15Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WbIbT",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T05:38:27Z",
          "updatedAt": "2024-12-27T05:38:27Z",
          "comments": [
            {
              "originalPosition": 73,
              "body": "I don't see any specification stating that apu and apv are useless in JWE. Until there is consensus in the WG, we will need to include apu and apv in both modes. As an alternative, we could consider explicitly documenting the decision to exclude apu and apv and explain that they are not necessary for HPKE in JWE. This would provide clarity to implementers and trigger further discussion within the WG",
              "createdAt": "2024-12-27T05:38:27Z",
              "updatedAt": "2024-12-27T05:38:27Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WbpoQ",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T08:42:26Z",
          "updatedAt": "2024-12-27T08:42:27Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "No, it does not need to be conveyed in the HPKE aad. JWE handles JWE AAD itself for all its algorithms.",
              "createdAt": "2024-12-27T08:42:26Z",
              "updatedAt": "2024-12-27T08:46:25Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WbrjM",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T08:50:22Z",
          "updatedAt": "2024-12-27T08:50:23Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "Someone requested ability to use the HPKE setup info for implicit context binding. The easiest way to implement that is to default the HPKE setup info to empty (using aad for recipient context) unless application specifies a value.\r\n\r\nWhich is what this PR does.",
              "createdAt": "2024-12-27T08:50:22Z",
              "updatedAt": "2024-12-27T08:50:23Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WbsOG",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T08:53:41Z",
          "updatedAt": "2024-12-27T08:53:41Z",
          "comments": [
            {
              "originalPosition": 73,
              "body": "No current Key Encryption algorithm supports apu nor apv. That would be one reason to exclude those.",
              "createdAt": "2024-12-27T08:53:41Z",
              "updatedAt": "2024-12-27T08:53:42Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WbtPV",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T08:58:46Z",
          "updatedAt": "2024-12-27T08:58:46Z",
          "comments": [
            {
              "originalPosition": 255,
              "body": "AFACIT, there are no trade-offs and no risks beyond those inherit in having an implementation for both.\r\n\r\nAnd what key_ops does HPKE use anyway? I know some implementation used DeriveBits because that was required to enable the needed interfaces.",
              "createdAt": "2024-12-27T08:58:46Z",
              "updatedAt": "2024-12-27T08:58:47Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WbtfK",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T09:00:05Z",
          "updatedAt": "2024-12-27T09:00:05Z",
          "comments": [
            {
              "originalPosition": 243,
              "body": "Such message does not even pretend to be authenticated (unless done by external means like signatures).",
              "createdAt": "2024-12-27T09:00:05Z",
              "updatedAt": "2024-12-27T09:00:05Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WcNtX",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T11:28:47Z",
          "updatedAt": "2024-12-27T11:28:48Z",
          "comments": [
            {
              "originalPosition": 243,
              "body": "I propose to modify the text as follows:\r\nAuthenticated HPKE modes MUST NOT be used for Key Encryption, as the message is not authenticated. Any recipient could act as a man-in-the-middle (MitM) and modify the message.",
              "createdAt": "2024-12-27T11:28:47Z",
              "updatedAt": "2024-12-27T11:28:48Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WcQzA",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T11:47:32Z",
          "updatedAt": "2024-12-27T11:47:33Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "Yes, but why did you delete most of the existing text in Section 6 (Key Encryption) ?",
              "createdAt": "2024-12-27T11:47:32Z",
              "updatedAt": "2024-12-27T11:47:33Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WcRSS",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T11:50:37Z",
          "updatedAt": "2024-12-27T11:50:38Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "I don\u2019t see any issues raised on GitHub or discussions in the WG regarding the need for application-specific context. Why is this requirement specific to JWE HPKE and not ECDH-ES ?",
              "createdAt": "2024-12-27T11:50:38Z",
              "updatedAt": "2024-12-27T11:50:38Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WcSUq",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T11:56:59Z",
          "updatedAt": "2024-12-27T11:56:59Z",
          "comments": [
            {
              "originalPosition": 73,
              "body": "As per Section 4.6.2 of RFC 7518, both apu and apv are used to derive the key which is used to encrypt the CEK. ",
              "createdAt": "2024-12-27T11:56:59Z",
              "updatedAt": "2024-12-27T11:56:59Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WcTKz",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T12:01:47Z",
          "updatedAt": "2024-12-27T12:01:47Z",
          "comments": [
            {
              "originalPosition": 255,
              "body": "I disagree. Combining multiple key_ops (e.g., encryption and derivation) can lead to unintended consequences in certain scenarios, such as algorithm confusion or key misuse across contexts. I suggest raising this issue on the WG mailing list for further discussion.",
              "createdAt": "2024-12-27T12:01:47Z",
              "updatedAt": "2024-12-27T12:01:47Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Wcch5",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T12:51:58Z",
          "updatedAt": "2024-12-27T12:51:58Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "Most of that section was just repeating stuff from JWE, often not quite correctly.",
              "createdAt": "2024-12-27T12:51:58Z",
              "updatedAt": "2024-12-27T12:51:58Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Wcd14",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T12:59:28Z",
          "updatedAt": "2024-12-27T12:59:28Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "It was one mailing list post. However, I think this mechanism does not work correctly, and should be ripped out.\r\n\r\nExpanding a bit on the issue: While one could do things like extract the key thumbprint from envelope signature and then use that as implicit context (to bind the message to its origin), that only being supported for HPKE and not other algorithms is a footgun.\r\n\r\nIf application wants to bind message to its origin, it should stick whatever context data it is using to either JWE AAD or to protected headers and then check that on decryption.\r\n\r\n(Applicability to COSE: everything meant to be usable at layer0 should support external aad, e.g. by using Enc_structure; HPKE in COSE / COSE-HPKE does that.)",
              "createdAt": "2024-12-27T12:59:28Z",
              "updatedAt": "2024-12-28T19:09:06Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WchNu",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T13:17:15Z",
          "updatedAt": "2024-12-27T13:17:15Z",
          "comments": [
            {
              "originalPosition": 73,
              "body": "And there is an attack that exploits precisely that behavior (and there is an analog of that against HPKE that can not be fixed). Basically,  apu and apv in JWE are broken beyond repair.\r\n\r\nThe apu and apv stuff should just be ripped out.\r\n\r\nExpanding a bit on the issue: There is no authentication on the apu and apv values, so an attacker that has the public key of the victim can just set those fields to arbitrary values Then if using Key Agreement with Key Wrapping (or HPKE), the attacker can also set CEK to arbitrary value.\r\n\r\nParty U Info and Party V Info are only usable with ECDH-SS (or some authenticated ECDH construction), where attacker can not just specify arbitrary values. And it is really only useful for ECDH-SS, which otherwise would have directional symmetry, that could allow attacks (that symmetry is quoted as the reason for Party U Info and Party V Info). \r\n\r\n(Applicability to COSE: COSE does support ECDH-SS, where PartyUInfo and PartyVInfo are actually useful, and PartyUInfo.nonce is crucial for security. However, for everything else, those fields are useless.)",
              "createdAt": "2024-12-27T13:17:15Z",
              "updatedAt": "2024-12-28T19:15:37Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WcjRy",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-27T13:28:15Z",
          "updatedAt": "2024-12-27T13:28:15Z",
          "comments": [
            {
              "originalPosition": 255,
              "body": "Neither algorithm confusion nor key misuse across contexts is possible with JOSE-HPKE recipient role keys. To get either, one would have to use the same key with sender role, or with something else, and both are NOT RECOMMENDED.",
              "createdAt": "2024-12-27T13:28:15Z",
              "updatedAt": "2024-12-27T13:28:15Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WeSq3",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-28T05:09:28Z",
          "updatedAt": "2024-12-28T05:09:28Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "I don\u2019t see any issues with removing the redundant content from JWE. However, I will need to review all the changes to ensure that no relevant text is removed. I noticed the following:\r\n\r\n1. Section 4.2 is removed.\r\n2. In Key Encryption section, the latest version of the draft says encrypted_key is base64url encoded content\r\n    encryption key but in the PR it says encrypted_key carries the raw enc output.",
              "createdAt": "2024-12-28T05:09:28Z",
              "updatedAt": "2024-12-28T05:09:28Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WeUv7",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-28T05:13:42Z",
          "updatedAt": "2024-12-28T05:13:42Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "Agreed. I will post a message on the JOSE WG mailing list after the holidays to close the issue.",
              "createdAt": "2024-12-28T05:13:42Z",
              "updatedAt": "2024-12-28T05:13:42Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WeUx-",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-28T05:15:06Z",
          "updatedAt": "2024-12-28T05:15:06Z",
          "comments": [
            {
              "originalPosition": 73,
              "body": "I will raise an issue on GitHub and start a thread on the JOSE WG mailing list after the holidays.",
              "createdAt": "2024-12-28T05:15:06Z",
              "updatedAt": "2024-12-28T05:15:06Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WeYbE",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-28T05:36:53Z",
          "updatedAt": "2024-12-28T05:36:53Z",
          "comments": [
            {
              "originalPosition": 255,
              "body": "Is it a common practice to reuse the key in different modes, ?\r\nwhat is the use case to use the same key for JWE Integrated Encryption and Key Encryption ?",
              "createdAt": "2024-12-28T05:36:53Z",
              "updatedAt": "2024-12-28T05:49:22Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6We9Wy",
          "commit": {
            "abbreviatedOid": "e3129f7"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-28T10:56:05Z",
          "updatedAt": "2024-12-28T10:56:06Z",
          "comments": [
            {
              "originalPosition": 108,
              "body": "Regarding 1., that section was redundant with specified HPKE I/O mappings.\r\n\r\nRegarding 2., Note that the PR says \"JWE Encrypted Key\", not \"encrypted_key\".  JWE specifies that the latter is base64url encoding of the former. So the field ends up base64url-encoded.\r\n\r\nFor the \"ek\" parameter, there is no automatic base64url-encoding, so the PR explicitly specifies base64url endec.",
              "createdAt": "2024-12-28T10:56:06Z",
              "updatedAt": "2024-12-28T10:56:06Z"
            }
          ]
        }
      ]
    },
    {
      "number": 15,
      "id": "PR_kwDOMMuuSM6GBIY-",
      "title": "Undo author info update",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/15",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Author info update caused strange behavior",
      "createdAt": "2024-12-22T16:15:36Z",
      "updatedAt": "2024-12-22T16:16:11Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "14f38ab5a9a38b21bd039abc7610688b8e7cbadd",
      "headRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "headRefName": "hannestschofenig-patch-1",
      "headRefOid": "774588d8eee453baa0ea8a5332604120a69ade78",
      "closedAt": "2024-12-22T16:16:08Z",
      "mergedAt": "2024-12-22T16:16:08Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "308b0140067d65da7de46529a8f3694ff307d5d2"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 16,
      "id": "PR_kwDOMMuuSM6GBJM6",
      "title": "Author Info Update",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/16",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-12-22T16:25:52Z",
      "updatedAt": "2024-12-22T16:33:38Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "308b0140067d65da7de46529a8f3694ff307d5d2",
      "headRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "headRefName": "hannestschofenig-patch-1",
      "headRefOid": "a0220d1df6d1d3883a80ca9148064796346f364e",
      "closedAt": "2024-12-22T16:33:31Z",
      "mergedAt": "2024-12-22T16:33:31Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "81a3d8a206cfda9fa3b7336e1a8353ca0ab3b21d"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 17,
      "id": "PR_kwDOMMuuSM6GkcnR",
      "title": "Update to draft",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/17",
      "state": "CLOSED",
      "author": "tireddy2",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Updates based on the discussion https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/14",
      "createdAt": "2025-01-02T10:58:05Z",
      "updatedAt": "2025-01-24T16:25:44Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "832915b77bbadc9a1e82c996e263ec6188f0acc3",
      "headRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "headRefName": "tireddy2-patch-5",
      "headRefOid": "a1e227ae0d96e7f0061c2cde9215a395b2d01672",
      "closedAt": "2025-01-24T16:25:44Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "> This PR introduces unnecessary changes to Key Use. The correct key use value for any encryption operation is \"enc\", which is already defined.\r\n\r\nWhy does section 4.2 (use) of JWK define a registry? It seems hard to me to define any (arguably) new uses without a major extension to JOSE, which would not need a registry. So I would presume that use is meant to be useful for more fine-grained scoping as well.\r\n\r\nThe HPKE sender role keys are not used for encryption, those are used for authentication (this is not a counterexample to previous, because there is a major extension involved). Using the same key for encryption and authentication is not a good practice (even if it probably is ultimately safe).\r\n\r\nAnd using the same key with multiple mechanisms (e.g. the JOSE ECDH-ES and HPKE) is not a good practice either, even if it almost invariably ends up being safe.\r\n",
          "createdAt": "2025-01-04T10:02:48Z",
          "updatedAt": "2025-01-04T10:02:48Z"
        },
        {
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "body": "> Lets split up the editorial clean up from registering new json web key usage params\r\n\r\nWorks for me.",
          "createdAt": "2025-01-06T08:17:05Z",
          "updatedAt": "2025-01-06T08:17:05Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "This PR runs into massive merge conflicts with merged PR #20, since that PR reverts PR #14, which this is based upon.\r\n\r\nMentions of \"apu\" and \"apv\" should be removed, except maybe text in security considerations discussing why those are broken.",
          "createdAt": "2025-01-06T08:32:57Z",
          "updatedAt": "2025-01-06T08:43:02Z"
        },
        {
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "body": "> conflict\r\n\r\nwe plan to have a meeting to discuss the changes proposed by you.",
          "createdAt": "2025-01-06T13:17:34Z",
          "updatedAt": "2025-01-06T13:17:34Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOMMuuSM6WqTzE",
          "commit": {
            "abbreviatedOid": "bc818be"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-02T14:33:53Z",
          "updatedAt": "2025-01-02T14:33:54Z",
          "comments": [
            {
              "originalPosition": 75,
              "body": "For implementations tracking key use (to enforce this and the previous requirement), I think it would be useful to register key uses for HPKE receiver and sender roles in the \"JSON Web Key Use\" registry.",
              "createdAt": "2025-01-02T14:33:53Z",
              "updatedAt": "2025-01-02T14:33:54Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WqUJJ",
          "commit": {
            "abbreviatedOid": "bc818be"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-02T14:34:47Z",
          "updatedAt": "2025-01-02T14:34:47Z",
          "comments": [
            {
              "originalPosition": 49,
              "body": "Issue #13 seems related to this.",
              "createdAt": "2025-01-02T14:34:47Z",
              "updatedAt": "2025-01-02T14:34:48Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WuF58",
          "commit": {
            "abbreviatedOid": "bc818be"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-03T07:45:11Z",
          "updatedAt": "2025-01-03T07:45:12Z",
          "comments": [
            {
              "originalPosition": 75,
              "body": "Agreed, added text, see https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/commit/d07b510a64e9ecd325f15858f838c24e073cafd8. ",
              "createdAt": "2025-01-03T07:45:11Z",
              "updatedAt": "2025-01-03T07:45:12Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WuHon",
          "commit": {
            "abbreviatedOid": "bc818be"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-03T07:53:22Z",
          "updatedAt": "2025-01-03T07:53:22Z",
          "comments": [
            {
              "originalPosition": 49,
              "body": "Yes, it makes sense to write a separate draft, and I can start drafting it. It would be great if you and Oliver could co-author it.",
              "createdAt": "2025-01-03T07:53:22Z",
              "updatedAt": "2025-01-03T07:53:22Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Wu1W-",
          "commit": {
            "abbreviatedOid": "d07b510"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-03T10:29:14Z",
          "updatedAt": "2025-01-03T10:29:15Z",
          "comments": [
            {
              "originalPosition": 73,
              "body": "JWK has this:\r\n\r\n\"Because a core goal of this specification is for the resulting representations to be compact, it is RECOMMENDED that the name be short -- not to exceed 8 characters without a compelling reason to do so.\"\r\n\r\nMaybe \"HPKEauth\" for sender role (since it is used for authentication) and \"HPKE\" for receiver role?",
              "createdAt": "2025-01-03T10:29:14Z",
              "updatedAt": "2025-01-03T10:29:15Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Wu19H",
          "commit": {
            "abbreviatedOid": "d07b510"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-03T10:31:06Z",
          "updatedAt": "2025-01-03T10:31:06Z",
          "comments": [
            {
              "originalPosition": 110,
              "body": "Maybe \"Key for HPKE sender role (authentication)\"",
              "createdAt": "2025-01-03T10:31:06Z",
              "updatedAt": "2025-01-03T10:31:06Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Wu2Gh",
          "commit": {
            "abbreviatedOid": "d07b510"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-03T10:31:35Z",
          "updatedAt": "2025-01-03T10:31:35Z",
          "comments": [
            {
              "originalPosition": 115,
              "body": "Maybe \"Key for HPKE receiver role (encapsulation/decapsulation)\"",
              "createdAt": "2025-01-03T10:31:35Z",
              "updatedAt": "2025-01-03T10:31:35Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WvZRN",
          "commit": {
            "abbreviatedOid": "d07b510"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-03T12:28:03Z",
          "updatedAt": "2025-01-03T12:28:03Z",
          "comments": [
            {
              "originalPosition": 110,
              "body": "Fixed. ",
              "createdAt": "2025-01-03T12:28:03Z",
              "updatedAt": "2025-01-03T12:28:03Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WvZXD",
          "commit": {
            "abbreviatedOid": "d07b510"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-03T12:28:23Z",
          "updatedAt": "2025-01-03T12:28:23Z",
          "comments": [
            {
              "originalPosition": 73,
              "body": "Updated to \"HPKEauth\" and \"HPKErecv\"",
              "createdAt": "2025-01-03T12:28:23Z",
              "updatedAt": "2025-01-03T12:28:24Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WyxeB",
          "commit": {
            "abbreviatedOid": "d07b510"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-04T04:48:01Z",
          "updatedAt": "2025-01-04T04:48:02Z",
          "comments": [
            {
              "originalPosition": 115,
              "body": "why would the receiver perform encapsulation ?",
              "createdAt": "2025-01-04T04:48:02Z",
              "updatedAt": "2025-01-04T04:48:02Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Wy6zu",
          "commit": {
            "abbreviatedOid": "c5b76bf"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-04T05:25:05Z",
          "updatedAt": "2025-01-04T05:25:05Z",
          "comments": [
            {
              "originalPosition": 21,
              "body": "The term \"ct\" is not defined.",
              "createdAt": "2025-01-04T05:25:05Z",
              "updatedAt": "2025-01-04T05:25:05Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Wy8Kq",
          "commit": {
            "abbreviatedOid": "c5b76bf"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-04T05:26:29Z",
          "updatedAt": "2025-01-04T05:26:30Z",
          "comments": [
            {
              "originalPosition": 40,
              "body": "```suggestion\r\n\r\n```\r\n\r\nFile issues in GitHub - not as text in the draft.",
              "createdAt": "2025-01-04T05:26:29Z",
              "updatedAt": "2025-01-04T05:26:30Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Wy8vI",
          "commit": {
            "abbreviatedOid": "c5b76bf"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-04T05:27:07Z",
          "updatedAt": "2025-01-04T05:27:08Z",
          "comments": [
            {
              "originalPosition": 49,
              "body": "```suggestion\r\n```\r\n\r\nFile issues in GitHub - not as text in the draft.",
              "createdAt": "2025-01-04T05:27:08Z",
              "updatedAt": "2025-01-04T05:27:08Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Wy94-",
          "commit": {
            "abbreviatedOid": "c5b76bf"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-04T05:28:23Z",
          "updatedAt": "2025-01-04T05:28:24Z",
          "comments": [
            {
              "originalPosition": 76,
              "body": "```suggestion\r\n```\r\n\r\nThe correct key use value for any encryption operation is \"enc\", which is already defined.",
              "createdAt": "2025-01-04T05:28:23Z",
              "updatedAt": "2025-01-04T05:28:24Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WzA2M",
          "commit": {
            "abbreviatedOid": "c5b76bf"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-04T05:31:15Z",
          "updatedAt": "2025-01-04T05:31:15Z",
          "comments": [
            {
              "originalPosition": 115,
              "body": "```suggestion\r\n```\r\n\r\nThe correct key use value for any encryption operation is \"enc\", which is already defined.",
              "createdAt": "2025-01-04T05:31:15Z",
              "updatedAt": "2025-01-04T05:31:15Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WzBOW",
          "commit": {
            "abbreviatedOid": "c5b76bf"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-04T05:31:38Z",
          "updatedAt": "2025-01-04T05:31:39Z",
          "comments": [
            {
              "originalPosition": 116,
              "body": "```suggestion\r\n```",
              "createdAt": "2025-01-04T05:31:38Z",
              "updatedAt": "2025-01-04T05:31:39Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WzBnR",
          "commit": {
            "abbreviatedOid": "c5b76bf"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-04T05:32:01Z",
          "updatedAt": "2025-01-04T05:32:01Z",
          "comments": [
            {
              "originalPosition": 118,
              "body": "```suggestion\r\n  ```",
              "createdAt": "2025-01-04T05:32:01Z",
              "updatedAt": "2025-01-04T05:32:01Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6WzCe8",
          "commit": {
            "abbreviatedOid": "c5b76bf"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "CHANGES_REQUESTED",
          "body": "This PR introduces unnecessary changes to Key Use.  The correct key use value for any encryption operation is \"enc\", which is already defined.\r\n\r\nPlease removed these changes and then I'll approve the PR, as it contains some correct editorial improvements.",
          "createdAt": "2025-01-04T05:33:00Z",
          "updatedAt": "2025-01-04T05:33:00Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOMMuuSM6W0ORu",
          "commit": {
            "abbreviatedOid": "c5b76bf"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-04T07:20:14Z",
          "updatedAt": "2025-01-04T07:20:14Z",
          "comments": [
            {
              "originalPosition": 76,
              "body": "The new key use values are introduced to address mandatory security requirements outlined in the Key Management Section. Enforcing these rules would not be feasible without defining these values.",
              "createdAt": "2025-01-04T07:20:14Z",
              "updatedAt": "2025-01-04T07:20:15Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6W04Lp",
          "commit": {
            "abbreviatedOid": "c5b76bf"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-04T08:29:20Z",
          "updatedAt": "2025-01-04T08:29:20Z",
          "comments": [
            {
              "originalPosition": 21,
              "body": "Fixed. ",
              "createdAt": "2025-01-04T08:29:20Z",
              "updatedAt": "2025-01-04T08:29:20Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6W2F2n",
          "commit": {
            "abbreviatedOid": "eff5602"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-04T16:09:17Z",
          "updatedAt": "2025-01-04T16:09:17Z",
          "comments": [
            {
              "originalPosition": 76,
              "body": "lets make sure to mirror this in COSE, or leave it out.",
              "createdAt": "2025-01-04T16:09:17Z",
              "updatedAt": "2025-01-04T16:09:17Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6W2F6g",
          "commit": {
            "abbreviatedOid": "eff5602"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-04T16:11:47Z",
          "updatedAt": "2025-01-04T16:11:47Z",
          "comments": [
            {
              "originalPosition": 75,
              "body": "This sentence should explain why authenticated kems are not suitable for encrypting content encryption keys... the current language is not great.",
              "createdAt": "2025-01-04T16:11:47Z",
              "updatedAt": "2025-01-04T16:11:47Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6W2F7u",
          "commit": {
            "abbreviatedOid": "eff5602"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-04T16:12:42Z",
          "updatedAt": "2025-01-04T16:12:42Z",
          "comments": [
            {
              "originalPosition": 80,
              "body": "Why? isn't it viable to encrypt messages to yourself?",
              "createdAt": "2025-01-04T16:12:42Z",
              "updatedAt": "2025-01-04T16:12:42Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6W2F8T",
          "commit": {
            "abbreviatedOid": "eff5602"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-04T16:13:09Z",
          "updatedAt": "2025-01-04T16:13:10Z",
          "comments": [
            {
              "originalPosition": 75,
              "body": "I would move this registration request to separate PR, and include examples",
              "createdAt": "2025-01-04T16:13:09Z",
              "updatedAt": "2025-01-04T16:13:20Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6W2F-Y",
          "commit": {
            "abbreviatedOid": "eff5602"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-04T16:14:27Z",
          "updatedAt": "2025-01-04T16:14:27Z",
          "comments": [
            {
              "originalPosition": 87,
              "body": "```suggestion\r\nA single key MAY be used with both Integrated Encryption and Key Encryption.\r\n```",
              "createdAt": "2025-01-04T16:14:27Z",
              "updatedAt": "2025-01-04T16:14:27Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6W2GAR",
          "commit": {
            "abbreviatedOid": "eff5602"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "CHANGES_REQUESTED",
          "body": "Lets split up the editorial clean up from registering new json web key usage params",
          "createdAt": "2025-01-04T16:15:36Z",
          "updatedAt": "2025-01-04T16:15:36Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOMMuuSM6W2vYj",
          "commit": {
            "abbreviatedOid": "c5b76bf"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-05T16:43:39Z",
          "updatedAt": "2025-01-05T16:43:39Z",
          "comments": [
            {
              "originalPosition": 76,
              "body": "Unfortunately, COSE does not currently have \"use\" (only the broken key_ops).\r\n\r\nMight be worth adding \"use\" to COSE (like \"typ\" was recently added).",
              "createdAt": "2025-01-05T16:43:39Z",
              "updatedAt": "2025-01-05T16:43:39Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6W2vnV",
          "commit": {
            "abbreviatedOid": "eff5602"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-05T16:49:52Z",
          "updatedAt": "2025-01-05T16:49:52Z",
          "comments": [
            {
              "originalPosition": 80,
              "body": "\"encrypt to yourself\" is usually done using symmetric algorithms, and this is the only known way of doing it post-quantum.\r\n\r\nHowever, the algorithms available for this in JOSE are not great. Only the AES-CBC-HMAC is suitable for Direct Encryption (it is non-trivial to use AES-GCM in Direct Encryption without NDA attack).",
              "createdAt": "2025-01-05T16:49:52Z",
              "updatedAt": "2025-01-05T16:49:52Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6W5Lzj",
          "commit": {
            "abbreviatedOid": "eff5602"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-06T08:11:21Z",
          "updatedAt": "2025-01-06T08:11:21Z",
          "comments": [
            {
              "originalPosition": 75,
              "body": "Please review the below proposed text:\r\nAuthenticated HPKE modes MUST NOT be used for Key Encryption, as they do not authenticate the message. These modes validate the sender's identity by ensuring that the shared secret originates from the sender's static public key, a pre-shared key, or a combination of both. However, this authentication is limited to the key exchange process and does not cover the message encrypted with the CEK. For example, a malicious recipient could decrypt the CEK, modify the decrypted message, and re-encrypt it using the same CEK. Other recipients, unaware of the tampering, might mistakenly trust the altered message as if it came from the authenticated sender.",
              "createdAt": "2025-01-06T08:11:21Z",
              "updatedAt": "2025-01-06T08:37:27Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6W5VmA",
          "commit": {
            "abbreviatedOid": "c5b76bf"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-06T08:33:18Z",
          "updatedAt": "2025-01-06T08:33:18Z",
          "comments": [
            {
              "originalPosition": 40,
              "body": "Removed text.",
              "createdAt": "2025-01-06T08:33:18Z",
              "updatedAt": "2025-01-06T08:33:18Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6W5V8U",
          "commit": {
            "abbreviatedOid": "c2dcb97"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-06T08:34:18Z",
          "updatedAt": "2025-01-06T08:34:18Z",
          "comments": [
            {
              "originalPosition": 16,
              "body": "Mentions of \"apu\" and \"apv\" should be removed, given how broken those are.",
              "createdAt": "2025-01-06T08:34:18Z",
              "updatedAt": "2025-01-06T08:34:18Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6W5XE_",
          "commit": {
            "abbreviatedOid": "c2dcb97"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-06T08:37:21Z",
          "updatedAt": "2025-01-06T08:37:21Z",
          "comments": [
            {
              "originalPosition": 39,
              "body": "\"apu\" and \"apv\" should be removed as broken. And the recipient context structure above should be updated to something like:\r\n\r\n`len32(enc)||enc`.\r\n\r\nIncidentally, this matches the COSE-HPKE one (minus the fields that do not exist on JOSE side).",
              "createdAt": "2025-01-06T08:37:21Z",
              "updatedAt": "2025-01-06T09:03:53Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6W5ey0",
          "commit": {
            "abbreviatedOid": "d07b510"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-06T08:48:52Z",
          "updatedAt": "2025-01-06T08:48:52Z",
          "comments": [
            {
              "originalPosition": 115,
              "body": "While this text is going to be removed from this PR...\r\n\r\nThe public part of receiver role key is used for encapsulation/encryption and the private part is used for decapsulation/decryption.\r\n\r\nWhile the public part of sender role key is used to verify the (optional) message authentication, and private part is used to (optionally) authenticate the message.\r\n\r\n\r\n\r\n",
              "createdAt": "2025-01-06T08:48:52Z",
              "updatedAt": "2025-01-06T08:48:52Z"
            }
          ]
        }
      ]
    },
    {
      "number": 20,
      "id": "PR_kwDOMMuuSM6GvGcU",
      "title": "Revert changes merged during 2024 holidays without adequate review",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/20",
      "state": "MERGED",
      "author": "selfissued",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-01-04T18:51:47Z",
      "updatedAt": "2025-01-05T18:16:20Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "832915b77bbadc9a1e82c996e263ec6188f0acc3",
      "headRepository": "selfissued/draft-ietf-jose-hpke-encrypt",
      "headRefName": "mbj-revert-unreviewed-holiday-2024-changes",
      "headRefOid": "ead6837ef5d97d700f3357d6119e1d9d858814c7",
      "closedAt": "2025-01-05T18:16:20Z",
      "mergedAt": "2025-01-05T18:16:20Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "4b1e0a2e34a18f1aa3da3406f524167ba1c96300"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOMMuuSM6W2KCy",
          "commit": {
            "abbreviatedOid": "ead6837"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-01-04T18:55:42Z",
          "updatedAt": "2025-01-04T18:55:42Z",
          "comments": []
        }
      ]
    },
    {
      "number": 22,
      "id": "PR_kwDOMMuuSM6If8ee",
      "title": "Update to draft to address issues",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/22",
      "state": "MERGED",
      "author": "tireddy2",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "The PR addresses https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/issues/21, https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/issues/19 and https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/issues/18",
      "createdAt": "2025-01-21T14:01:58Z",
      "updatedAt": "2025-01-31T10:49:14Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "c39269f5b0a13e8d87c34ce06f0af629d91f9ae4",
      "headRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "headRefName": "tireddy2-patch-6",
      "headRefOid": "75ad11140ca4e119605ba3b1d6a5b52e6cecc549",
      "closedAt": "2025-01-31T10:49:14Z",
      "mergedAt": "2025-01-31T10:49:14Z",
      "mergedBy": "tireddy2",
      "mergeCommit": {
        "oid": "f5c11cda19305744417347743ca41f9bd5cbd754"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOMMuuSM6ZBb0E",
          "commit": {
            "abbreviatedOid": "64ea049"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-22T13:58:27Z",
          "updatedAt": "2025-01-22T13:58:27Z",
          "comments": [
            {
              "originalPosition": 37,
              "body": "```suggestion\r\nraw message plaintext.\r\n```",
              "createdAt": "2025-01-22T13:58:27Z",
              "updatedAt": "2025-01-22T13:58:27Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZBcMT",
          "commit": {
            "abbreviatedOid": "64ea049"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-22T13:59:02Z",
          "updatedAt": "2025-01-22T13:59:02Z",
          "comments": [
            {
              "originalPosition": 37,
              "body": "not critical, but i dont think we need this sentence",
              "createdAt": "2025-01-22T13:59:02Z",
              "updatedAt": "2025-01-22T13:59:02Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZCUyg",
          "commit": {
            "abbreviatedOid": "ba0c38d"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-22T15:19:48Z",
          "updatedAt": "2025-01-22T15:19:48Z",
          "comments": [
            {
              "originalPosition": 69,
              "body": "This prevents encrypting messages to yourself, which part of the HPKE specification makes this requirement?",
              "createdAt": "2025-01-22T15:19:48Z",
              "updatedAt": "2025-01-22T15:19:48Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZCV3J",
          "commit": {
            "abbreviatedOid": "ba0c38d"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-22T15:21:23Z",
          "updatedAt": "2025-01-22T15:21:24Z",
          "comments": [
            {
              "originalPosition": 71,
              "body": "```suggestion\r\nA single recipient or sender key MUST NOT be used with both JOSE-HPKE and other algorithms as this might enable cross-protocol attacks.\r\n```",
              "createdAt": "2025-01-22T15:21:23Z",
              "updatedAt": "2025-01-22T15:21:24Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZCWWa",
          "commit": {
            "abbreviatedOid": "ba0c38d"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "some nits, but happy to address them in a follow up PR",
          "createdAt": "2025-01-22T15:22:08Z",
          "updatedAt": "2025-01-22T15:22:08Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOMMuuSM6ZIZfO",
          "commit": {
            "abbreviatedOid": "ba0c38d"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-23T08:00:54Z",
          "updatedAt": "2025-01-23T08:00:54Z",
          "comments": [
            {
              "originalPosition": 69,
              "body": "Encrypting messages to yourself is typically done using symmetric algorithms, For instance, in case of PQC KEM, it looks complex to encrypt the symmetric key to yourself using encap and then later using decap to get the symmetric key. I don't see any benefit for the additional compute.",
              "createdAt": "2025-01-23T08:00:54Z",
              "updatedAt": "2025-01-23T08:00:54Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZXG3_",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-24T15:33:05Z",
          "updatedAt": "2025-01-24T15:33:05Z",
          "comments": [
            {
              "originalPosition": 9,
              "body": "```suggestion\r\n  * If \"enc\" is an AEAD algorithm, the recipient Key Managment mode is Key Encryption.\r\n```",
              "createdAt": "2025-01-24T15:33:05Z",
              "updatedAt": "2025-01-24T15:33:05Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZXIWk",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-24T15:34:52Z",
          "updatedAt": "2025-01-24T15:34:52Z",
          "comments": [
            {
              "originalPosition": 11,
              "body": "```suggestion\r\nThe HPKE KEM, KDF, and AEAD used depend on the JOSE-HPKE algorithm used.\r\n```",
              "createdAt": "2025-01-24T15:34:52Z",
              "updatedAt": "2025-01-24T15:34:52Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZXJx3",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-24T15:37:27Z",
          "updatedAt": "2025-01-24T15:37:28Z",
          "comments": [
            {
              "originalPosition": 32,
              "body": "This doesn't say how the HPKE Setup Info parameter value is provided.",
              "createdAt": "2025-01-24T15:37:28Z",
              "updatedAt": "2025-01-24T15:37:28Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZXLMn",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-24T15:40:05Z",
          "updatedAt": "2025-01-24T15:40:06Z",
          "comments": [
            {
              "originalPosition": 33,
              "body": "```suggestion\r\n- The HPKE AEAD AAD MUST be set to the \"JWE Additional Authenticated Data encryption parameter\", as defined in Step 14 of Section 5.1 of {{RFC7516}}.\r\n```",
              "createdAt": "2025-01-24T15:40:06Z",
              "updatedAt": "2025-01-24T15:40:06Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZXPgw",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-24T15:47:57Z",
          "updatedAt": "2025-01-24T15:47:57Z",
          "comments": [
            {
              "originalPosition": 38,
              "body": "```suggestion\r\n```\r\n\r\nTalking about zip is unnecessary here because JWE specifies this behavior, which applies to all algorithms.",
              "createdAt": "2025-01-24T15:47:57Z",
              "updatedAt": "2025-01-24T15:47:57Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZXP6R",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-24T15:48:39Z",
          "updatedAt": "2025-01-24T15:48:40Z",
          "comments": [
            {
              "originalPosition": 40,
              "body": "```suggestion\r\n```\r\n\r\nThis is also unnecessary, as it is specified by JWE.",
              "createdAt": "2025-01-24T15:48:40Z",
              "updatedAt": "2025-01-24T15:48:40Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZXQc3",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-24T15:49:39Z",
          "updatedAt": "2025-01-24T15:49:39Z",
          "comments": [
            {
              "originalPosition": 49,
              "body": "This doesn't say how the HPKE Setup Info parameter value is provided.",
              "createdAt": "2025-01-24T15:49:39Z",
              "updatedAt": "2025-01-24T15:49:39Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZXRe0",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-24T15:51:33Z",
          "updatedAt": "2025-01-24T15:51:33Z",
          "comments": [
            {
              "originalPosition": 69,
              "body": "I'm not sure why the good guidance above is being deleted.",
              "createdAt": "2025-01-24T15:51:33Z",
              "updatedAt": "2025-01-24T15:51:33Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZXSoB",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-24T15:53:40Z",
          "updatedAt": "2025-01-24T15:53:40Z",
          "comments": [
            {
              "originalPosition": 71,
              "body": "Not reusing a key across multiple algorithms is normal cryptographic hygiene, and not specific to HPKE.  Do we really need to say this here?\r\n\r\nIn my view, we should only be adding text about how to use HPKE with JWE.",
              "createdAt": "2025-01-24T15:53:40Z",
              "updatedAt": "2025-01-24T15:53:40Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZXS4t",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-24T15:54:08Z",
          "updatedAt": "2025-01-24T15:54:08Z",
          "comments": [
            {
              "originalPosition": 73,
              "body": "Why is this OK?  This seems like a form of key reuse.",
              "createdAt": "2025-01-24T15:54:08Z",
              "updatedAt": "2025-01-24T15:54:08Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZdXNj",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-27T06:19:52Z",
          "updatedAt": "2025-01-27T06:19:52Z",
          "comments": [
            {
              "originalPosition": 32,
              "body": "As per our discussion in the call, I updated the text to align with COSE. \r\nThe HPKE Setup info parameter MUST be set to an empty string.",
              "createdAt": "2025-01-27T06:19:52Z",
              "updatedAt": "2025-01-27T06:19:52Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZdXQe",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-27T06:20:03Z",
          "updatedAt": "2025-01-27T06:20:03Z",
          "comments": [
            {
              "originalPosition": 49,
              "body": "As per our discussion in the call, I updated the text to align with COSE.\r\nThe HPKE Setup info parameter MUST be set to an empty string.",
              "createdAt": "2025-01-27T06:20:03Z",
              "updatedAt": "2025-01-27T06:20:03Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZdXgU",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-27T06:21:01Z",
          "updatedAt": "2025-01-27T06:21:01Z",
          "comments": [
            {
              "originalPosition": 40,
              "body": "The above text is only specified for the new JWE Integrated Encryption mode. ",
              "createdAt": "2025-01-27T06:21:01Z",
              "updatedAt": "2025-01-27T07:30:45Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZdXjU",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-27T06:21:11Z",
          "updatedAt": "2025-01-27T06:21:11Z",
          "comments": [
            {
              "originalPosition": 38,
              "body": "The above text is only specified for the new JWE Integrated Encryption mode. ",
              "createdAt": "2025-01-27T06:21:11Z",
              "updatedAt": "2025-01-27T07:30:35Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZdYmo",
          "commit": {
            "abbreviatedOid": "ba0c38d"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-27T06:25:26Z",
          "updatedAt": "2025-01-27T06:25:26Z",
          "comments": [
            {
              "originalPosition": 69,
              "body": "As per our discussion in the call, reverted the text, it will taken up in a separate PR.",
              "createdAt": "2025-01-27T06:25:26Z",
              "updatedAt": "2025-01-27T07:29:19Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZdqlL",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-27T07:28:24Z",
          "updatedAt": "2025-01-27T07:28:24Z",
          "comments": [
            {
              "originalPosition": 71,
              "body": "Explicitly stating this helps ensure that implementers are aware of and avoid potential cross-protocol attack surfaces.",
              "createdAt": "2025-01-27T07:28:24Z",
              "updatedAt": "2025-01-27T07:28:24Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Zdqng",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-27T07:28:31Z",
          "updatedAt": "2025-01-27T07:28:31Z",
          "comments": [
            {
              "originalPosition": 73,
              "body": "As discussed in the call, the text is reverted. ",
              "createdAt": "2025-01-27T07:28:31Z",
              "updatedAt": "2025-01-27T07:28:32Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Zr1ic",
          "commit": {
            "abbreviatedOid": "a54eb85"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-28T14:21:52Z",
          "updatedAt": "2025-01-28T14:21:52Z",
          "comments": [
            {
              "originalPosition": 38,
              "body": "A reference would be better than repeating the text... some thing like:\r\n\r\nNote that compression is possible with both integrated encryption and key encryption, see section .... of rfc ...",
              "createdAt": "2025-01-28T14:21:52Z",
              "updatedAt": "2025-01-28T14:22:00Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Zr31v",
          "commit": {
            "abbreviatedOid": "a54eb85"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-28T14:24:22Z",
          "updatedAt": "2025-01-28T14:24:22Z",
          "comments": [
            {
              "originalPosition": 40,
              "body": "Probably we should add a comment that \"JWE Encrypted Key\" in step 2 is encapsulated key.\r\nit does seem like we need some connection point for integrated encryption to be well specified.",
              "createdAt": "2025-01-28T14:24:22Z",
              "updatedAt": "2025-01-28T14:24:52Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Zr7G5",
          "commit": {
            "abbreviatedOid": "a54eb85"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-28T14:28:23Z",
          "updatedAt": "2025-01-28T14:28:23Z",
          "comments": [
            {
              "originalPosition": 49,
              "body": "```suggestion\r\n- The HPKE Setup info parameter SHOULD be set to an empty string. See RFC9180 Section 8.1 for details on how to provide auxiliary authenticated application information.\r\n```",
              "createdAt": "2025-01-28T14:28:23Z",
              "updatedAt": "2025-01-28T14:28:24Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6Zr9gT",
          "commit": {
            "abbreviatedOid": "a54eb85"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-28T14:30:33Z",
          "updatedAt": "2025-01-28T14:30:33Z",
          "comments": [
            {
              "originalPosition": 60,
              "body": "```suggestion\r\n## Authentication using an Asymmetric Key\r\n```",
              "createdAt": "2025-01-28T14:30:33Z",
              "updatedAt": "2025-01-28T14:30:33Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZsD7s",
          "commit": {
            "abbreviatedOid": "a54eb85"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-28T14:38:40Z",
          "updatedAt": "2025-01-28T14:38:41Z",
          "comments": [
            {
              "originalPosition": 62,
              "body": "```suggestion\r\nImplementers are cautioned to note that the use of authenticated KEMs has different meaning when considering integrated encryption and key encryption.\r\nIn integrated encryption the KEM operations secure the message plaintext, whereas with key encryption, the KEM operations secure the content encryption key.\r\nFor this reason, the use of authenticated KEMs with key encryption is NOT RECOMMENDED, as it gives a false sense of security.\r\nSee RFC9180 Section 5.1.3 for details authentication using asymmetric keys.\r\n```",
              "createdAt": "2025-01-28T14:38:40Z",
              "updatedAt": "2025-01-28T14:38:41Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZsF1q",
          "commit": {
            "abbreviatedOid": "a54eb85"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-28T14:41:04Z",
          "updatedAt": "2025-01-28T14:41:04Z",
          "comments": [
            {
              "originalPosition": 69,
              "body": "```suggestion\r\nA single KEM key MUST NOT be used with multiple algorithms.  Each key and its\r\n```",
              "createdAt": "2025-01-28T14:41:04Z",
              "updatedAt": "2025-01-28T14:41:04Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZsGbV",
          "commit": {
            "abbreviatedOid": "a54eb85"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-28T14:41:55Z",
          "updatedAt": "2025-01-28T14:41:55Z",
          "comments": [
            {
              "originalPosition": 72,
              "body": "```suggestion\r\npreserved.  Additionally, the same key MUST NOT be used for both key encryption and integrated encryption, as it may introduce security risks.\r\n```",
              "createdAt": "2025-01-28T14:41:55Z",
              "updatedAt": "2025-01-28T14:41:55Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZsIJ9",
          "commit": {
            "abbreviatedOid": "a54eb85"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-28T14:44:07Z",
          "updatedAt": "2025-01-28T14:44:08Z",
          "comments": [
            {
              "originalPosition": 71,
              "body": "Making this informative or and moving it to security considerations is perhaps acceptable middle ground.",
              "createdAt": "2025-01-28T14:44:08Z",
              "updatedAt": "2025-01-28T14:44:08Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZySD6",
          "commit": {
            "abbreviatedOid": "a54eb85"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-29T06:12:58Z",
          "updatedAt": "2025-01-29T06:12:58Z",
          "comments": [
            {
              "originalPosition": 49,
              "body": "The COSE-HPKE draft states that the setup info is set to an empty string. We should ensure that both drafts are aligned. In the last meeting, Mike was of the opinion that a new JOSE parameter would need to be added if auxiliary authenticated application information is required to be provided to HPKE setup info.",
              "createdAt": "2025-01-29T06:12:58Z",
              "updatedAt": "2025-01-29T06:12:58Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZyScd",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-29T06:14:24Z",
          "updatedAt": "2025-01-29T06:14:24Z",
          "comments": [
            {
              "originalPosition": 71,
              "body": "The above text is already in Security Considerations section, please check. ",
              "createdAt": "2025-01-29T06:14:24Z",
              "updatedAt": "2025-01-29T06:14:24Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZyUFc",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-29T06:19:39Z",
          "updatedAt": "2025-01-29T06:19:39Z",
          "comments": [
            {
              "originalPosition": 38,
              "body": "I don't see a need to re-iterate that compression is possible with key encryption but I agree to avoid repeating the text. Updated text accordingly.",
              "createdAt": "2025-01-29T06:19:39Z",
              "updatedAt": "2025-01-29T06:31:02Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6ZyWJt",
          "commit": {
            "abbreviatedOid": "aeb2d6d"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-29T06:24:35Z",
          "updatedAt": "2025-01-29T06:24:35Z",
          "comments": [
            {
              "originalPosition": 40,
              "body": "Thanks, fixed. ",
              "createdAt": "2025-01-29T06:24:35Z",
              "updatedAt": "2025-01-29T06:24:35Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6aF5Rc",
          "commit": {
            "abbreviatedOid": "75ad111"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-30T22:58:12Z",
          "updatedAt": "2025-01-30T22:58:12Z",
          "comments": [
            {
              "originalPosition": 49,
              "body": "I agree with making this consistent with COSE HPKE by making the parameter empty.  Let's deal with possibly relaxing this in a separate issue, if needed, but not in this PR.",
              "createdAt": "2025-01-30T22:58:12Z",
              "updatedAt": "2025-01-30T22:58:12Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6aF5Va",
          "commit": {
            "abbreviatedOid": "75ad111"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-01-30T22:58:26Z",
          "updatedAt": "2025-01-30T22:58:26Z",
          "comments": []
        }
      ]
    },
    {
      "number": 24,
      "id": "PR_kwDOMMuuSM6JqLLF",
      "title": "Remove incorrect text about HPKE algorithm names",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/24",
      "state": "MERGED",
      "author": "selfissued",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-01-31T15:47:31Z",
      "updatedAt": "2025-02-02T12:02:25Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "f5c11cda19305744417347743ca41f9bd5cbd754",
      "headRepository": "selfissued/draft-ietf-jose-hpke-encrypt",
      "headRefName": "mbj-hpke-alg-names",
      "headRefOid": "9a4f8c5f80b9582901949fa45445b6566ea56950",
      "closedAt": "2025-02-02T12:02:24Z",
      "mergedAt": "2025-02-02T12:02:24Z",
      "mergedBy": "tireddy2",
      "mergeCommit": {
        "oid": "4968c38869e1667947c100a7e7996a23bd7f0267"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOMMuuSM6aNj_7",
          "commit": {
            "abbreviatedOid": "9a4f8c5"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-01-31T16:31:57Z",
          "updatedAt": "2025-01-31T16:31:57Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOMMuuSM6aSe5E",
          "commit": {
            "abbreviatedOid": "9a4f8c5"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-02-02T12:02:17Z",
          "updatedAt": "2025-02-02T12:02:17Z",
          "comments": []
        }
      ]
    },
    {
      "number": 25,
      "id": "PR_kwDOMMuuSM6Jyy5m",
      "title": "Updates to Document History",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/25",
      "state": "MERGED",
      "author": "tireddy2",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-02-03T05:44:20Z",
      "updatedAt": "2025-02-04T07:49:53Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "4968c38869e1667947c100a7e7996a23bd7f0267",
      "headRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "headRefName": "tireddy2-patch-7",
      "headRefOid": "f9c2cc389d800d28916af7ac8070237324ec2d77",
      "closedAt": "2025-02-04T07:49:52Z",
      "mergedAt": "2025-02-04T07:49:52Z",
      "mergedBy": "tireddy2",
      "mergeCommit": {
        "oid": "26b97b988731495dc3d9290bc3ff76d2619b7de3"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOMMuuSM6aUsZh",
          "commit": {
            "abbreviatedOid": "f9c2cc3"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "Thanks for doing this. ",
          "createdAt": "2025-02-03T07:35:32Z",
          "updatedAt": "2025-02-03T07:35:32Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOMMuuSM6aYZtW",
          "commit": {
            "abbreviatedOid": "f9c2cc3"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-02-03T14:31:17Z",
          "updatedAt": "2025-02-03T14:31:17Z",
          "comments": []
        }
      ]
    },
    {
      "number": 26,
      "id": "PR_kwDOMMuuSM6J-Q4P",
      "title": "JWK for JOSE-HPKE",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/26",
      "state": "CLOSED",
      "author": "tireddy2",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-02-04T10:59:27Z",
      "updatedAt": "2025-02-04T11:00:21Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "26b97b988731495dc3d9290bc3ff76d2619b7de3",
      "headRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "headRefName": "tireddy2-patch-8",
      "headRefOid": "69a72ff2f1e688b300b4b44797c9c3662e9d22aa",
      "closedAt": "2025-02-04T11:00:21Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    },
    {
      "number": 27,
      "id": "PR_kwDOMMuuSM6J-S8E",
      "title": "JWK",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/27",
      "state": "MERGED",
      "author": "tireddy2",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-02-04T11:02:11Z",
      "updatedAt": "2025-02-10T13:53:55Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "26b97b988731495dc3d9290bc3ff76d2619b7de3",
      "headRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "headRefName": "tireddy2-patch-9",
      "headRefOid": "d21bbe5f76e4aafc68915920db01186ee97d3c9f",
      "closedAt": "2025-02-10T13:53:55Z",
      "mergedAt": "2025-02-10T13:53:55Z",
      "mergedBy": "tireddy2",
      "mergeCommit": {
        "oid": "24b66dcb27fd05fbf03881f0a346fe4f8e5e66ba"
      },
      "comments": [
        {
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "body": "> This is weird, because the section title is about JWKs but the table beneath it is not. It's about HPKE algorithm combinations, which doesn't belong here.\r\n> \r\n> The key example is fine but the rest needs to move or be deleted.\r\n\r\nThe purpose of the section is discuss the valid combinations of HPKE KEM, JWK parameters, 'kty' (key type) and 'crv' (curve). If the section title is not appropriate, I modified the title as \"Mapping HPKE Keys to JWK for JOSE\"",
          "createdAt": "2025-02-06T12:19:48Z",
          "updatedAt": "2025-02-06T12:20:05Z"
        },
        {
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "body": "> OK, now I see what you're trying to do. It will be clearer if you also list the JOSE HPKE algorithm identifier in each table entry.\r\n> \r\n> Please include a \"JWE alg\" column. And for instance, in the first row, include \"HPKE-0\".\r\n\r\nYes, updated table accordingly. please check. ",
          "createdAt": "2025-02-10T05:38:51Z",
          "updatedAt": "2025-02-10T05:38:51Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOMMuuSM6a4QZF",
          "commit": {
            "abbreviatedOid": "0f282b7"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "CHANGES_REQUESTED",
          "body": "This is weird, because the section title is about JWKs but the table beneath it is not.  It's about HPKE algorithm combinations, which doesn't belong here.\r\n\r\nThe key example is fine but the rest needs to move or be deleted.",
          "createdAt": "2025-02-06T11:45:36Z",
          "updatedAt": "2025-02-06T11:45:36Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOMMuuSM6bGNH2",
          "commit": {
            "abbreviatedOid": "5b78424"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "CHANGES_REQUESTED",
          "body": "OK, now I see what you're trying to do.  It will be clearer if you also list the JOSE HPKE algorithm identifier in each table entry.\r\n\r\nPlease include a \"JWE alg\" column.  And for instance, in the first row, include \"HPKE-0\".",
          "createdAt": "2025-02-07T15:44:47Z",
          "updatedAt": "2025-02-07T15:44:47Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOMMuuSM6a5N4u",
          "commit": {
            "abbreviatedOid": "208102a"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-02-06T13:33:06Z",
          "updatedAt": "2025-02-10T13:30:24Z",
          "comments": [
            {
              "originalPosition": 14,
              "body": "Having these be alg values, like HPKE-2 would be better imo.",
              "createdAt": "2025-02-06T13:33:06Z",
              "updatedAt": "2025-02-10T13:30:24Z"
            },
            {
              "originalPosition": 14,
              "body": "```suggestion\r\n| HPKE-0 \t      | EC  | P-256     |\r\n```",
              "createdAt": "2025-02-10T13:30:05Z",
              "updatedAt": "2025-02-10T13:30:24Z"
            },
            {
              "originalPosition": 15,
              "body": "```suggestion\r\n| HPKE-1     \t      | EC  | P-384     |\r\n```",
              "createdAt": "2025-02-10T13:30:16Z",
              "updatedAt": "2025-02-10T13:30:24Z"
            }
          ]
        }
      ]
    },
    {
      "number": 28,
      "id": "PR_kwDOMMuuSM6MBxC2",
      "title": "Address comments from Ilari",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/28",
      "state": "MERGED",
      "author": "tireddy2",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "https://mailarchive.ietf.org/arch/msg/jose/vgPxysiA0I0bT88VpT2DeI61Kk4/",
      "createdAt": "2025-02-21T10:21:10Z",
      "updatedAt": "2025-02-28T16:24:28Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "24b66dcb27fd05fbf03881f0a346fe4f8e5e66ba",
      "headRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "headRefName": "tireddy2-patch-10",
      "headRefOid": "487f213f1befc4a9d15a1897d183206860959255",
      "closedAt": "2025-02-28T16:24:24Z",
      "mergedAt": "2025-02-28T16:24:24Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "c1f7d6f71dca42a5d87171ce3cbf529e225055c1"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOMMuuSM6c-Kof",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-21T16:07:30Z",
          "updatedAt": "2025-02-21T16:07:30Z",
          "comments": [
            {
              "originalPosition": 11,
              "body": "https://datatracker.ietf.org/doc/html/rfc7516#section-7.2.1\r\n\r\nNot sure about the \"see\" reference here.\r\n\r\nIs it needed.",
              "createdAt": "2025-02-21T16:07:30Z",
              "updatedAt": "2025-02-21T16:07:31Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6c-Qxd",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-21T16:13:28Z",
          "updatedAt": "2025-02-21T16:13:29Z",
          "comments": [
            {
              "originalPosition": 26,
              "body": "Not sure this needs to be a MUST... it SHOULD be empty string.",
              "createdAt": "2025-02-21T16:13:29Z",
              "updatedAt": "2025-02-21T16:13:29Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6c-SBz",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-21T16:15:12Z",
          "updatedAt": "2025-02-21T16:15:12Z",
          "comments": [
            {
              "originalPosition": 4,
              "body": "```suggestion\r\n```\r\n\r\nThis sentence is redundant.  Please delete it.  This is already defined by JWE.",
              "createdAt": "2025-02-21T16:15:12Z",
              "updatedAt": "2025-02-21T16:15:13Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6c-SND",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-21T16:15:31Z",
          "updatedAt": "2025-02-21T16:15:32Z",
          "comments": [
            {
              "originalPosition": 11,
              "body": "```suggestion\r\n- The JWE Protected Header MUST include an \"enc\" value registered in both the IANA HPKE AEAD Identifiers Registry and the IANA JSON Web Signature and Encryption Algorithms Registry.\r\n```",
              "createdAt": "2025-02-21T16:15:31Z",
              "updatedAt": "2025-02-21T16:15:32Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6c-Sgv",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-21T16:16:05Z",
          "updatedAt": "2025-02-21T16:16:05Z",
          "comments": [
            {
              "originalPosition": 11,
              "body": "Its obvious that both registries are needed, you can't understand HPKE without the first, and you can't understand JWE without the second.",
              "createdAt": "2025-02-21T16:16:05Z",
              "updatedAt": "2025-02-21T16:16:05Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6c-WBN",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-21T16:21:24Z",
          "updatedAt": "2025-02-21T16:21:25Z",
          "comments": [
            {
              "originalPosition": 10,
              "body": "```suggestion\r\n- The JWE protected header MUST NOT contain the \"alg\" when recipients use different algorithms to secure the content encryption key.\r\n\r\n- The JWE protected header SHOULD contain the \"alg\" when all recipients use the same HPKE algorithm to secure the content encryption key.\r\n```",
              "createdAt": "2025-02-21T16:21:24Z",
              "updatedAt": "2025-02-21T16:23:23Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6c-YZj",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-21T16:25:09Z",
          "updatedAt": "2025-02-21T16:25:09Z",
          "comments": [
            {
              "originalPosition": 10,
              "body": "https://www.rfc-editor.org/rfc/rfc7516.html#section-7.2.1 says:\r\n> Some Header Parameters, including the \"alg\" parameter, can be shared among all recipient computations.  Header Parameters in the JWE Protected Header and JWE Shared Unprotected Header values are shared among all recipients.\r\n\r\nOrie is right that we cannot prohibit \"alg\" in the protected header.",
              "createdAt": "2025-02-21T16:25:09Z",
              "updatedAt": "2025-02-21T16:25:09Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6c-ZIT",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-21T16:26:00Z",
          "updatedAt": "2025-02-21T16:26:01Z",
          "comments": [
            {
              "originalPosition": 26,
              "body": "```suggestion\r\n- The HPKE Setup info parameter SHOULD be set to an empty string.\r\n```",
              "createdAt": "2025-02-21T16:26:00Z",
              "updatedAt": "2025-02-21T16:26:01Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6dCvpJ",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-22T07:41:51Z",
          "updatedAt": "2025-02-22T07:41:51Z",
          "comments": [
            {
              "originalPosition": 11,
              "body": "I am referring to the following text Section 7.2.1 of RFC 7516:\r\n\r\n   This primarily means that the \"enc\" (encryption algorithm) Header\r\n   Parameter value in the JOSE Header for each recipient and any\r\n   parameters of that algorithm MUST be the same.",
              "createdAt": "2025-02-22T07:41:51Z",
              "updatedAt": "2025-02-22T07:41:51Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6dCvzk",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-22T07:46:17Z",
          "updatedAt": "2025-02-22T07:46:17Z",
          "comments": [
            {
              "originalPosition": 26,
              "body": "The COSE-HPKE draft specifies that the setup info is set to an empty string. We should ensure alignment between both drafts. In a meeting, Mike suggested that if auxiliary authenticated application information needs to be provided to HPKE setup info, a new JOSE parameter should be introduced.",
              "createdAt": "2025-02-22T07:46:17Z",
              "updatedAt": "2025-02-22T07:46:17Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6dCwPC",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-22T07:57:47Z",
          "updatedAt": "2025-02-22T07:57:47Z",
          "comments": [
            {
              "originalPosition": 4,
              "body": "It was to address the comment from Illari on \"How is HPKE AAD input set\"\r\nI can re-phrase the line to say \r\nThe protected header encoding remains consistent with existing JWE formatting rules.",
              "createdAt": "2025-02-22T07:57:47Z",
              "updatedAt": "2025-02-22T07:57:47Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6dCwTB",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-22T07:59:26Z",
          "updatedAt": "2025-02-22T07:59:27Z",
          "comments": [
            {
              "originalPosition": 26,
              "body": "The COSE-HPKE draft specifies that the setup info is set to an empty string. We should ensure alignment between both drafts. In a meeting, Mike suggested that if auxiliary authenticated application information needs to be provided to HPKE setup info, a new JOSE parameter should be introduced.",
              "createdAt": "2025-02-22T07:59:26Z",
              "updatedAt": "2025-02-22T07:59:27Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6dMXgZ",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-24T14:21:50Z",
          "updatedAt": "2025-02-24T14:21:50Z",
          "comments": [
            {
              "originalPosition": 26,
              "body": "https://github.com/cose-wg/HPKE/issues/68",
              "createdAt": "2025-02-24T14:21:50Z",
              "updatedAt": "2025-02-24T14:21:51Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6dMavO",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-24T14:24:35Z",
          "updatedAt": "2025-02-24T14:24:35Z",
          "comments": [
            {
              "originalPosition": 11,
              "body": "Ahh I see... its at the very end of the section... there is another MUST above it.\r\n\r\n@selfissued I know you don't want to repeat text, here is the text that is relevant to use of \"enc\" with HPKE:\r\n\r\n```\r\n   All recipients use the same JWE Protected Header, JWE Initialization\r\n   Vector, JWE Ciphertext, and JWE Authentication Tag values, when\r\n   present, resulting in potentially significant space savings if the\r\n   message is large.  Therefore, all Header Parameters that specify the\r\n   treatment of the plaintext value MUST be the same for all recipients.\r\n   This primarily means that the \"enc\" (encryption algorithm) Header\r\n   Parameter value in the JOSE Header for each recipient and any\r\n   parameters of that algorithm MUST be the same.\r\n```",
              "createdAt": "2025-02-24T14:24:35Z",
              "updatedAt": "2025-02-24T14:24:35Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6dMimY",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-24T14:33:13Z",
          "updatedAt": "2025-02-24T14:33:14Z",
          "comments": [
            {
              "originalPosition": 26,
              "body": "I think the ultimate language we want uses MUST, saying something like:\r\n> The HPKE Setup info parameter MUST be set to the empty string unless set with the YET-TO-BE-DEFINED header parameter.\r\n",
              "createdAt": "2025-02-24T14:33:13Z",
              "updatedAt": "2025-02-24T14:33:14Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6dXAtl",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-25T08:21:50Z",
          "updatedAt": "2025-02-25T08:21:50Z",
          "comments": [
            {
              "originalPosition": 26,
              "body": "Yes, a new YET-TO-BE-DEFINED header parameter sounds good for HPKE Setup info. We can take it up as a separate PR. ",
              "createdAt": "2025-02-25T08:21:50Z",
              "updatedAt": "2025-02-25T08:21:50Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6dbE1e",
          "commit": {
            "abbreviatedOid": "0fa87ab"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-25T13:44:53Z",
          "updatedAt": "2025-02-25T13:44:53Z",
          "comments": [
            {
              "originalPosition": 26,
              "body": "I don't agree. If HPKE Setup info is set it can be any of the following:\r\n\r\n1. Context, like in concatKDF.\r\n2. private information known to both parties.\r\n2. public information included in the message (like a header parameter)\r\n\r\nI don't think we need to specify any of this, except perhaps to state that \"apu\" and \"apv\" are not required to be processed when present.\r\n\r\n\r\n",
              "createdAt": "2025-02-25T13:44:53Z",
              "updatedAt": "2025-02-25T13:44:53Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6eBjIZ",
          "commit": {
            "abbreviatedOid": "487f213"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-28T16:16:51Z",
          "updatedAt": "2025-02-28T16:16:51Z",
          "comments": [
            {
              "originalPosition": 26,
              "body": "This should be addressed in a separate PR.",
              "createdAt": "2025-02-28T16:16:51Z",
              "updatedAt": "2025-02-28T16:16:51Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6eBjct",
          "commit": {
            "abbreviatedOid": "487f213"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-02-28T16:17:25Z",
          "updatedAt": "2025-02-28T16:17:25Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOMMuuSM6eBjgy",
          "commit": {
            "abbreviatedOid": "487f213"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-02-28T16:17:33Z",
          "updatedAt": "2025-02-28T16:17:33Z",
          "comments": []
        }
      ]
    },
    {
      "number": 31,
      "id": "PR_kwDOMMuuSM6N9CcT",
      "title": "Some terminology fixups",
      "url": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/31",
      "state": "MERGED",
      "author": "ilaril",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "Fix the terminology used a bit.\r\n\r\nMostly this is about using terms from JWE to refer to things from JWE, and using JOSE-HPKE to refer to the construct as whole. There should not be technical changes.\r\n\r\nAlso defines what AKP means for JOSE-HPKE.\r\n\r\nThis also fixes some inconsistencies:\r\n* JWE AAD with Integrated Encryption was MUST NOT, but there was an example using it and it works just fine. Changed that to MAY.\r\n* auth_kid in Key Encryption was MAY, but security considerations said SHOULD NOT. Changed that to SHOULD NOT.\r\n\r\nI left some comments explaining some of the changes.\r\n\r\nThis does not fix the apparent flaws with Key Encryption.",
      "createdAt": "2025-03-10T08:46:31Z",
      "updatedAt": "2025-03-16T05:11:42Z",
      "baseRepository": "ietf-wg-jose/draft-ietf-jose-hpke-encrypt",
      "baseRefName": "main",
      "baseRefOid": "c1f7d6f71dca42a5d87171ce3cbf529e225055c1",
      "headRepository": "ilaril/JOSE-HPKE",
      "headRefName": "terminology-fixups",
      "headRefOid": "a13db4d35f66ef8bf14eecc34142088ce043a153",
      "closedAt": "2025-03-16T05:11:42Z",
      "mergedAt": "2025-03-16T05:11:42Z",
      "mergedBy": "tireddy2",
      "mergeCommit": {
        "oid": "0c82c26c6e12a4d35bb67b58686c443faaf02bb0"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOMMuuSM6fJ8bI",
          "commit": {
            "abbreviatedOid": "364bcb5"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-03-10T08:49:38Z",
          "updatedAt": "2025-03-10T08:49:39Z",
          "comments": [
            {
              "originalPosition": 18,
              "body": "JWE implicitly does base64url on JWE Encrypted Key, so old version apparently specified double-base64url, which surely is not what is intended.",
              "createdAt": "2025-03-10T08:49:38Z",
              "updatedAt": "2025-03-10T08:49:39Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6fJ-yx",
          "commit": {
            "abbreviatedOid": "364bcb5"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-03-10T08:53:33Z",
          "updatedAt": "2025-03-10T08:53:33Z",
          "comments": [
            {
              "originalPosition": 80,
              "body": "JWE calls the set of headers per-recipient processing occurs as \"JOSE Header\".",
              "createdAt": "2025-03-10T08:53:33Z",
              "updatedAt": "2025-03-10T08:53:34Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6fJ_ZE",
          "commit": {
            "abbreviatedOid": "364bcb5"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-03-10T08:54:32Z",
          "updatedAt": "2025-03-10T08:54:32Z",
          "comments": [
            {
              "originalPosition": 83,
              "body": "This is just completely redundant.",
              "createdAt": "2025-03-10T08:54:32Z",
              "updatedAt": "2025-03-10T08:54:32Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6fKBC0",
          "commit": {
            "abbreviatedOid": "364bcb5"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-03-10T08:56:40Z",
          "updatedAt": "2025-03-10T08:56:41Z",
          "comments": [
            {
              "originalPosition": 92,
              "body": "This defines what AKP means for JOSE-HPKE algorithms. This avoids having various cipher suite specifications to define key formats, potentially in incompatible way that would cause headaches for implementers.",
              "createdAt": "2025-03-10T08:56:41Z",
              "updatedAt": "2025-03-10T08:56:41Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6fKBfH",
          "commit": {
            "abbreviatedOid": "364bcb5"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-03-10T08:57:23Z",
          "updatedAt": "2025-03-10T08:57:23Z",
          "comments": [
            {
              "originalPosition": 102,
              "body": "HPKE mode used to be part of JOSE-HPKE cipher suite, but is not anymore.",
              "createdAt": "2025-03-10T08:57:23Z",
              "updatedAt": "2025-03-10T08:57:23Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6fKB-X",
          "commit": {
            "abbreviatedOid": "364bcb5"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-03-10T08:58:08Z",
          "updatedAt": "2025-03-10T08:58:08Z",
          "comments": [
            {
              "originalPosition": 120,
              "body": "Mode is not part of cipher suite anymore.",
              "createdAt": "2025-03-10T08:58:08Z",
              "updatedAt": "2025-03-10T08:58:08Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6fovQT",
          "commit": {
            "abbreviatedOid": "364bcb5"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-03-12T12:19:01Z",
          "updatedAt": "2025-03-12T12:19:02Z",
          "comments": [
            {
              "originalPosition": 18,
              "body": "HPKE JWE Integrated Encryption is a new mode, so the encoding of the encapsulated key needs to be specified. ",
              "createdAt": "2025-03-12T12:19:01Z",
              "updatedAt": "2025-03-12T12:19:02Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6gP2Xh",
          "commit": {
            "abbreviatedOid": "364bcb5"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-03-16T04:38:42Z",
          "updatedAt": "2025-03-16T04:38:42Z",
          "comments": [
            {
              "originalPosition": 47,
              "body": "```suggestion\r\n- The HPKE aad parameter MUST be set to the \"JWE Additional Authenticated Data encryption parameter\", as defined in Step 14 of Section 5.1 of {{RFC7516}}.\r\n```\r\n\r\nThe text about future updates doesn't add any value.",
              "createdAt": "2025-03-16T04:38:42Z",
              "updatedAt": "2025-03-16T04:38:42Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6gP2d3",
          "commit": {
            "abbreviatedOid": "364bcb5"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-03-16T04:41:14Z",
          "updatedAt": "2025-03-16T04:41:14Z",
          "comments": [
            {
              "originalPosition": 48,
              "body": "```suggestion\r\n- If protected header contains the parameter \"zip\" (Section 4.1.3 of {{RFC7516}}), the plaintext is the message compressed with the indicated algorithm.\r\n```",
              "createdAt": "2025-03-16T04:41:14Z",
              "updatedAt": "2025-03-16T04:41:14Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6gP2e-",
          "commit": {
            "abbreviatedOid": "364bcb5"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-03-16T04:41:44Z",
          "updatedAt": "2025-03-16T04:41:45Z",
          "comments": [
            {
              "originalPosition": 49,
              "body": "```suggestion\r\nOtherwise, the plaintext is the raw message.\r\n```",
              "createdAt": "2025-03-16T04:41:44Z",
              "updatedAt": "2025-03-16T04:41:45Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6gP2ga",
          "commit": {
            "abbreviatedOid": "364bcb5"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-03-16T04:42:38Z",
          "updatedAt": "2025-03-16T04:42:39Z",
          "comments": [
            {
              "originalPosition": 61,
              "body": "```suggestion\r\nRecipients using JOSE-HPKE can be added alongside other recpients (e.g., `ECDH-ES+A128KW` or `RSA-OAEP-384`), as HPKE is used to encrypt the\r\n```",
              "createdAt": "2025-03-16T04:42:38Z",
              "updatedAt": "2025-03-16T04:42:39Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6gP2jL",
          "commit": {
            "abbreviatedOid": "364bcb5"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-03-16T04:44:23Z",
          "updatedAt": "2025-03-16T04:44:23Z",
          "comments": [
            {
              "originalPosition": 76,
              "body": "```suggestion\r\n- When all recipients use the same HPKE algorithm to secure the Content Encryption Key, the JWE Protected Header SHOULD contain \"alg\".\r\nOtherwise, the JWE Protected Header (and JWE Shared Unprotected Header) MUST NOT contain \"alg\".\r\n```",
              "createdAt": "2025-03-16T04:44:23Z",
              "updatedAt": "2025-03-16T04:44:23Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOMMuuSM6gP2oD",
          "commit": {
            "abbreviatedOid": "364bcb5"
          },
          "author": "selfissued",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "Approved with change suggestions.",
          "createdAt": "2025-03-16T04:46:25Z",
          "updatedAt": "2025-03-16T04:46:25Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOMMuuSM6gP3Sa",
          "commit": {
            "abbreviatedOid": "364bcb5"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-03-16T05:08:17Z",
          "updatedAt": "2025-03-16T05:08:17Z",
          "comments": [
            {
              "originalPosition": 80,
              "body": "Yes, update looks good. ",
              "createdAt": "2025-03-16T05:08:17Z",
              "updatedAt": "2025-03-16T05:08:18Z"
            }
          ]
        }
      ]
    }
  ]
}